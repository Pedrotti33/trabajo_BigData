<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.36">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Pedro Peñalver Cañigueral">
<meta name="description" content="Una perpectiva amplia del comportamiento de la inflación">
<title>Repaso a la inflación - Un vistazo a la inflación en España de las últimas dos décadas</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./imagenes/batman_logo.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": true,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "Sín resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la busqueda",
    "search-hide-matches-text": "Esconder resultados adicionales",
    "search-more-match-text": "hay más resultados en este documento",
    "search-more-matches-text": "más resultados en este documento",
    "search-clear-button-title": "Borrar",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Eviar"
  }
}</script><style>html{ scroll-behavior: smooth; }</style>
<style>
    .quarto-title-block .quarto-title-banner {
      color: FFFF00;
    }
    </style>
<script src="site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script><script src="site_libs/plotly-binding-4.10.3/plotly.js"></script><script src="site_libs/typedarray-0.1/typedarray.min.js"></script><script src="site_libs/jquery-3.5.1/jquery.min.js"></script><link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script><script src="site_libs/twitter-widget-0.0.1/widgets.js"></script><script src="site_libs/kePrint-0.0.1/kePrint.js"></script><link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link rel="stylesheet" href="my_styles.css">
</head>
<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <a class="navbar-brand" href="./index.html">
    <img src="././imagenes/batman_logo.png" alt=""><span class="navbar-title">Repaso a la inflación</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item compact">
    <a class="nav-link" href="./index.html"><i class="bi bi-house-door" role="img">
</i> 
 </a>
  </li>  
</ul>
<ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link active" href="./my_trabajo_BigData.html" aria-current="page">Acceso al trabajo</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/Pedrotti33"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="./pepecai@alumni.uv.es"><i class="bi bi-envelope" role="img">
</i> 
 </a>
  </li>  
</ul>
<div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><header id="title-block-header" class="quarto-title-block default page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <div class="quarto-title-block"><div><h1 class="title">Un vistazo a la inflación en España de las últimas dos décadas</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Código</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Enseñar el código</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Esconder el código</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">Ver el código</a></li></ul></div></div>
                  <div>
        <div class="description">
          Una perpectiva amplia del comportamiento de la inflación
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">trabajo BigData</div>
                <div class="quarto-category">Inflación</div>
              </div>
                  </div>
  </div>
    
  <div class="quarto-title-meta-author">
    <div class="quarto-title-meta-heading">Autor</div>
    <div class="quarto-title-meta-heading">Afiliación</div>
    
      <div class="quarto-title-meta-contents">
      Pedro Peñalver Cañigueral 
    </div>
      <div class="quarto-title-meta-contents">
          <p class="affiliation">
              <a href="https://www.uv.es">
              Universitat de València
              </a>
            </p>
        </div>
      </div>

  <div class="quarto-title-meta">

        
      <div>
      <div class="quarto-title-meta-heading">Fecha de Publicación</div>
      <div class="quarto-title-meta-contents">
        <p class="date">25 de enero de 2024</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc"><h2 id="toc-title">Índice</h2>
   
  <ul>
<li><a href="#paquetes-y-datos" id="toc-paquetes-y-datos" class="nav-link active" data-scroll-target="#paquetes-y-datos">Paquetes y datos</a></li>
  <li><a href="#%C3%ADndice-de-precios" id="toc-índice-de-precios" class="nav-link" data-scroll-target="#%C3%ADndice-de-precios">Índice de precios</a></li>
  <li><a href="#mapa-de-comunidades-aut%C3%B3nomas" id="toc-mapa-de-comunidades-autónomas" class="nav-link" data-scroll-target="#mapa-de-comunidades-aut%C3%B3nomas">Mapa de comunidades autónomas</a></li>
  <li><a href="#el-reciente-ciclo-inflacionista" id="toc-el-reciente-ciclo-inflacionista" class="nav-link" data-scroll-target="#el-reciente-ciclo-inflacionista">El reciente ciclo inflacionista</a></li>
  <li><a href="#meses-hist%C3%B3ricos" id="toc-meses-históricos" class="nav-link" data-scroll-target="#meses-hist%C3%B3ricos">Meses históricos</a></li>
  <li><a href="#meses-con-mayores-tasas-seg%C3%BAn-porducto" id="toc-meses-con-mayores-tasas-según-porducto" class="nav-link" data-scroll-target="#meses-con-mayores-tasas-seg%C3%BAn-porducto">Meses con mayores tasas según porducto</a></li>
  <li><a href="#conclusi%C3%B3n" id="toc-conclusión" class="nav-link" data-scroll-target="#conclusi%C3%B3n">Conclusión</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-left" id="quarto-document-content"><section id="paquetes-y-datos" class="level2"><h2 class="anchored" data-anchor-id="paquetes-y-datos">Paquetes y datos</h2>
<p>Vamos a utilizar los datos del paquete <code>pxR</code>, para poder cargar los datos del INE que necesitamos en el trabajo. Primeramente, instalamos los paquetes necesarios y cargamos las librerías. A continuación, descargamos los dicheros de datos.</p>
<div class="cell" data-layout-align="center">
<details open=""><summary>Código</summary><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co">#remotes::install_github("perezp44/pjpv.curso.R.2022")</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="co">#install.packages("pxR")</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="co">#install.packages("downloader")</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co">#install.packages("readxl")</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co">#install.packages("mapSpain")</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="co">#install.packages("kableExtra")</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="fu">library</span>(mapSpain)</span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="fu">library</span>(data.table)</span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="fu">library</span>(rlist)</span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="fu">library</span>(fs)</span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="fu">library</span>(curl)</span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="fu">library</span>(rio)</span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="fu">library</span>(downloader)</span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="fu">library</span>(writexl)</span>
<span id="cb1-18"><a href="#cb1-18"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-19"><a href="#cb1-19"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb1-20"><a href="#cb1-20"></a><span class="fu">library</span>(ggExtra)</span>
<span id="cb1-21"><a href="#cb1-21"></a><span class="fu">library</span>(pxR)</span>
<span id="cb1-22"><a href="#cb1-22"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-23"><a href="#cb1-23"></a></span>
<span id="cb1-24"><a href="#cb1-24"></a></span>
<span id="cb1-25"><a href="#cb1-25"></a><span class="co">#Descargamos el primer fichero de datos, que contiene los datos a nivel nacional</span></span>
<span id="cb1-26"><a href="#cb1-26"></a>url <span class="ot">&lt;-</span> <span class="st">"https://www.ine.es/jaxiT3/files/t/es/px/50902.px?nocab=1"</span></span>
<span id="cb1-27"><a href="#cb1-27"></a>aa <span class="ot">&lt;-</span> <span class="fu">read.px</span>(url)</span>
<span id="cb1-28"><a href="#cb1-28"></a></span>
<span id="cb1-29"><a href="#cb1-29"></a><span class="co">#Lo convertimos a CSV para simplificar y creamos un dataframe</span></span>
<span id="cb1-30"><a href="#cb1-30"></a></span>
<span id="cb1-31"><a href="#cb1-31"></a><span class="fu">write.csv</span>(aa, <span class="at">file =</span> <span class="st">"data.csv"</span>)</span>
<span id="cb1-32"><a href="#cb1-32"></a>IPV <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data.csv"</span>)</span>
<span id="cb1-33"><a href="#cb1-33"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>()[<span class="sc">!</span><span class="fu">ls</span>() <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"IPV"</span>)])</span>
<span id="cb1-34"><a href="#cb1-34"></a></span>
<span id="cb1-35"><a href="#cb1-35"></a><span class="fu">dir_create</span>(<span class="st">"datos"</span>)</span>
<span id="cb1-36"><a href="#cb1-36"></a></span>
<span id="cb1-37"><a href="#cb1-37"></a><span class="co">#Los guardamos sin arreglar</span></span>
<span id="cb1-38"><a href="#cb1-38"></a><span class="fu">write.csv</span>(IPV,  <span class="at">file =</span> <span class="st">"./datos/ipv.csv"</span>)</span>
<span id="cb1-39"><a href="#cb1-39"></a></span>
<span id="cb1-40"><a href="#cb1-40"></a></span>
<span id="cb1-41"><a href="#cb1-41"></a></span>
<span id="cb1-42"><a href="#cb1-42"></a><span class="co">#Este segundo archivo contiene los datos a nivel autonómico</span></span>
<span id="cb1-43"><a href="#cb1-43"></a>url2 <span class="ot">&lt;-</span> <span class="st">"https://www.ine.es/jaxiT3/files/t/es/px/50913.px?nocab=1"</span></span>
<span id="cb1-44"><a href="#cb1-44"></a>ab <span class="ot">&lt;-</span> <span class="fu">read.px</span>(url2)</span>
<span id="cb1-45"><a href="#cb1-45"></a></span>
<span id="cb1-46"><a href="#cb1-46"></a><span class="co">#Lo convertimos a CSV para simplificar y creamos un dataframe</span></span>
<span id="cb1-47"><a href="#cb1-47"></a></span>
<span id="cb1-48"><a href="#cb1-48"></a><span class="fu">write.csv</span>(ab, <span class="at">file =</span> <span class="st">"dataCCAA.zip"</span>)</span>
<span id="cb1-49"><a href="#cb1-49"></a>CCAA <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"dataCCAA.zip"</span>)</span>
<span id="cb1-50"><a href="#cb1-50"></a></span>
<span id="cb1-51"><a href="#cb1-51"></a><span class="co">#Los guardamos sin arreglar</span></span>
<span id="cb1-52"><a href="#cb1-52"></a><span class="fu">write.csv</span>(CCAA,  <span class="at">file =</span> <span class="st">"./datos/dataCCAA.zip"</span>)</span>
<span id="cb1-53"><a href="#cb1-53"></a></span>
<span id="cb1-54"><a href="#cb1-54"></a><span class="co"># Para que ab sea un dataframe y no una lista:</span></span>
<span id="cb1-55"><a href="#cb1-55"></a>df_ab <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(ab<span class="sc">$</span>DATA<span class="sc">$</span>value)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="índice-de-precios" class="level2"><h2 class="anchored" data-anchor-id="índice-de-precios">Índice de precios</h2>
<p>En el primer gráfico tenemos el índice del nivel de precios desde el año 2002 hasta la actualidad. Este índice es equivalente a la inflación acumulada. Pues lo que hace es acumular las tasas de crecimiento mensuales.</p>
<div class="cell" data-layout-align="center">
<details open=""><summary>Código</summary><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>df <span class="ot">&lt;-</span> IPV <span class="sc">%&gt;%</span> </span>
<span id="cb2-2"><a href="#cb2-2"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">Grupo =</span> Grupos.ECOICOP, <span class="at">Dato =</span> Tipo.de.dato)</span>
<span id="cb2-3"><a href="#cb2-3"></a></span>
<span id="cb2-4"><a href="#cb2-4"></a>dff <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb2-5"><a href="#cb2-5"></a>  <span class="fu">filter</span> (Grupo <span class="sc">==</span> <span class="st">"Índice general"</span>, Dato <span class="sc">==</span> <span class="st">"Índice"</span>)</span>
<span id="cb2-6"><a href="#cb2-6"></a></span>
<span id="cb2-7"><a href="#cb2-7"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(dff, <span class="fu">aes</span>(<span class="at">x =</span> Periodo, <span class="at">y =</span> value, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="fl">1.08</span>) <span class="sc">+</span></span>
<span id="cb2-9"><a href="#cb2-9"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">breaks =</span> dff<span class="sc">$</span>Periodo[<span class="fu">substr</span>(dff<span class="sc">$</span>Periodo, <span class="dv">6</span>, <span class="dv">7</span>) <span class="sc">==</span> <span class="st">"01"</span>], <span class="at">labels =</span> <span class="cf">function</span>(x) <span class="fu">substr</span>(x, <span class="dv">1</span>, <span class="dv">4</span>)) <span class="sc">+</span> </span>
<span id="cb2-10"><a href="#cb2-10"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb2-11"><a href="#cb2-11"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Índice"</span>, <span class="at">title =</span> <span class="st">"Índice nivel de precios (Base100 = 2021)"</span>) <span class="sc">+</span></span>
<span id="cb2-12"><a href="#cb2-12"></a>  <span class="fu">theme_stata</span>() <span class="sc">+</span> <span class="fu">rotateTextX</span>()</span>
<span id="cb2-13"><a href="#cb2-13"></a></span>
<span id="cb2-14"><a href="#cb2-14"></a><span class="co">#Utilizamos plotly para hacer el gráfico interactivo</span></span>
<span id="cb2-15"><a href="#cb2-15"></a>plotly<span class="sc">::</span><span class="fu">ggplotly</span>(p)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-4b376274130ea9bc7f40" style="width:95%;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-4b376274130ea9bc7f40">{"x":{"data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264],"y":[69.530000000000001,69.590000000000003,70.165000000000006,71.117999999999995,71.373999999999995,71.376999999999995,70.882000000000005,71.084999999999994,71.350999999999999,72.058000000000007,72.168999999999997,72.409000000000006,72.111000000000004,72.263999999999996,72.765000000000001,73.356999999999999,73.289000000000001,73.337999999999994,72.878,73.212999999999994,73.430999999999997,73.926000000000002,74.167000000000002,74.293999999999997,73.772999999999996,73.807000000000002,74.322000000000003,75.340000000000003,75.784000000000006,75.903999999999996,75.328000000000003,75.661000000000001,75.796000000000006,76.575000000000003,76.766999999999996,76.691999999999993,76.046000000000006,76.242999999999995,76.846000000000004,77.953000000000003,78.102000000000004,78.284000000000006,77.805000000000007,78.147000000000006,78.626999999999995,79.266000000000005,79.385999999999996,79.557000000000002,79.233999999999995,79.272000000000006,79.832999999999998,80.959000000000003,81.251000000000005,81.373999999999995,80.890000000000001,81.055000000000007,80.921999999999997,81.254000000000005,81.454999999999998,81.677999999999997,81.129000000000005,81.183999999999997,81.799999999999997,82.930000000000007,83.158000000000001,83.311000000000007,82.703999999999994,82.817999999999998,83.090000000000003,84.167000000000002,84.769999999999996,85.125,84.597999999999999,84.730000000000004,85.481999999999999,86.402000000000001,86.984999999999999,87.486000000000004,87.066000000000003,86.879000000000005,86.861000000000004,87.159999999999997,86.790000000000006,86.344999999999999,85.281000000000006,85.290000000000006,85.430000000000007,86.263999999999996,86.233999999999995,86.614000000000004,85.873999999999995,86.174000000000007,85.971000000000004,86.584000000000003,87.052999999999997,87.031000000000006,86.158000000000001,86.001000000000005,86.638999999999996,87.561999999999998,87.756,87.912999999999997,87.519000000000005,87.739999999999995,87.801000000000002,88.602999999999994,89.084000000000003,89.631,88.974999999999994,89.087999999999994,89.754000000000005,90.870999999999995,90.840999999999994,90.712999999999994,90.225999999999999,90.337999999999994,90.558999999999997,91.272999999999996,91.643000000000001,91.762,90.753,90.846999999999994,91.457999999999998,92.742999999999995,92.605999999999995,92.433000000000007,92.216999999999999,92.736000000000004,93.649000000000001,94.444999999999993,94.328000000000003,94.394000000000005,93.188000000000002,93.349000000000004,93.677999999999997,94.028000000000006,94.200999999999993,94.340000000000003,93.852999999999994,94.144999999999996,93.968999999999994,94.350999999999999,94.546999999999997,94.632000000000005,93.373000000000005,93.332999999999998,93.540999999999997,94.373000000000005,94.394999999999996,94.421000000000006,93.533000000000001,93.680999999999997,93.823999999999998,94.260999999999996,94.194999999999993,93.646000000000001,92.141000000000005,92.331000000000003,92.920000000000002,93.774000000000001,94.221999999999994,94.474000000000004,93.596999999999994,93.286000000000001,92.998999999999995,93.594999999999999,93.936999999999998,93.662999999999997,91.876000000000005,91.552000000000007,92.138999999999996,92.784999999999997,93.292000000000002,93.722999999999999,93.040999999999997,93.161000000000001,93.165000000000006,94.230000000000004,94.572000000000003,95.132000000000005,94.608999999999995,94.269000000000005,94.248999999999995,95.153999999999996,95.096999999999994,95.138000000000005,94.481999999999999,94.670000000000002,94.834999999999994,95.709999999999994,96.147000000000006,96.189999999999998,95.153000000000006,95.281000000000006,95.393000000000001,96.180999999999997,97.048000000000002,97.302000000000007,96.603999999999999,96.742000000000004,96.977999999999994,97.875,97.768000000000001,97.328999999999994,96.084999999999994,96.319999999999993,96.668999999999997,97.644000000000005,97.834000000000003,97.718999999999994,97.113,97.058999999999997,97.058999999999997,98.001000000000005,98.167000000000002,98.096000000000004,97.138999999999996,97.024000000000001,96.652000000000001,96.944000000000003,96.938000000000002,97.385000000000005,96.510999999999996,96.555000000000007,96.700000000000003,97.207999999999998,97.367000000000004,97.573999999999998,97.582999999999998,97.007999999999996,97.948999999999998,99.105000000000004,99.572000000000003,100.04600000000001,99.292000000000002,99.742999999999995,100.575,102.425,102.738,103.965,103.56699999999999,104.40300000000001,107.566,107.375,108.262,110.267,109.986,110.265,109.498,109.866,109.73399999999999,109.899,109.66800000000001,110.703,111.111,111.773,111.71899999999999,112.354,112.544,113.149,113.348,113.676,113.28,113.30800000000001],"text":["Periodo: 2002M01<br />value:  69.530","Periodo: 2002M02<br />value:  69.590","Periodo: 2002M03<br />value:  70.165","Periodo: 2002M04<br />value:  71.118","Periodo: 2002M05<br />value:  71.374","Periodo: 2002M06<br />value:  71.377","Periodo: 2002M07<br />value:  70.882","Periodo: 2002M08<br />value:  71.085","Periodo: 2002M09<br />value:  71.351","Periodo: 2002M10<br />value:  72.058","Periodo: 2002M11<br />value:  72.169","Periodo: 2002M12<br />value:  72.409","Periodo: 2003M01<br />value:  72.111","Periodo: 2003M02<br />value:  72.264","Periodo: 2003M03<br />value:  72.765","Periodo: 2003M04<br />value:  73.357","Periodo: 2003M05<br />value:  73.289","Periodo: 2003M06<br />value:  73.338","Periodo: 2003M07<br />value:  72.878","Periodo: 2003M08<br />value:  73.213","Periodo: 2003M09<br />value:  73.431","Periodo: 2003M10<br />value:  73.926","Periodo: 2003M11<br />value:  74.167","Periodo: 2003M12<br />value:  74.294","Periodo: 2004M01<br />value:  73.773","Periodo: 2004M02<br />value:  73.807","Periodo: 2004M03<br />value:  74.322","Periodo: 2004M04<br />value:  75.340","Periodo: 2004M05<br />value:  75.784","Periodo: 2004M06<br />value:  75.904","Periodo: 2004M07<br />value:  75.328","Periodo: 2004M08<br />value:  75.661","Periodo: 2004M09<br />value:  75.796","Periodo: 2004M10<br />value:  76.575","Periodo: 2004M11<br />value:  76.767","Periodo: 2004M12<br />value:  76.692","Periodo: 2005M01<br />value:  76.046","Periodo: 2005M02<br />value:  76.243","Periodo: 2005M03<br />value:  76.846","Periodo: 2005M04<br />value:  77.953","Periodo: 2005M05<br />value:  78.102","Periodo: 2005M06<br />value:  78.284","Periodo: 2005M07<br />value:  77.805","Periodo: 2005M08<br />value:  78.147","Periodo: 2005M09<br />value:  78.627","Periodo: 2005M10<br />value:  79.266","Periodo: 2005M11<br />value:  79.386","Periodo: 2005M12<br />value:  79.557","Periodo: 2006M01<br />value:  79.234","Periodo: 2006M02<br />value:  79.272","Periodo: 2006M03<br />value:  79.833","Periodo: 2006M04<br />value:  80.959","Periodo: 2006M05<br />value:  81.251","Periodo: 2006M06<br />value:  81.374","Periodo: 2006M07<br />value:  80.890","Periodo: 2006M08<br />value:  81.055","Periodo: 2006M09<br />value:  80.922","Periodo: 2006M10<br />value:  81.254","Periodo: 2006M11<br />value:  81.455","Periodo: 2006M12<br />value:  81.678","Periodo: 2007M01<br />value:  81.129","Periodo: 2007M02<br />value:  81.184","Periodo: 2007M03<br />value:  81.800","Periodo: 2007M04<br />value:  82.930","Periodo: 2007M05<br />value:  83.158","Periodo: 2007M06<br />value:  83.311","Periodo: 2007M07<br />value:  82.704","Periodo: 2007M08<br />value:  82.818","Periodo: 2007M09<br />value:  83.090","Periodo: 2007M10<br />value:  84.167","Periodo: 2007M11<br />value:  84.770","Periodo: 2007M12<br />value:  85.125","Periodo: 2008M01<br />value:  84.598","Periodo: 2008M02<br />value:  84.730","Periodo: 2008M03<br />value:  85.482","Periodo: 2008M04<br />value:  86.402","Periodo: 2008M05<br />value:  86.985","Periodo: 2008M06<br />value:  87.486","Periodo: 2008M07<br />value:  87.066","Periodo: 2008M08<br />value:  86.879","Periodo: 2008M09<br />value:  86.861","Periodo: 2008M10<br />value:  87.160","Periodo: 2008M11<br />value:  86.790","Periodo: 2008M12<br />value:  86.345","Periodo: 2009M01<br />value:  85.281","Periodo: 2009M02<br />value:  85.290","Periodo: 2009M03<br />value:  85.430","Periodo: 2009M04<br />value:  86.264","Periodo: 2009M05<br />value:  86.234","Periodo: 2009M06<br />value:  86.614","Periodo: 2009M07<br />value:  85.874","Periodo: 2009M08<br />value:  86.174","Periodo: 2009M09<br />value:  85.971","Periodo: 2009M10<br />value:  86.584","Periodo: 2009M11<br />value:  87.053","Periodo: 2009M12<br />value:  87.031","Periodo: 2010M01<br />value:  86.158","Periodo: 2010M02<br />value:  86.001","Periodo: 2010M03<br />value:  86.639","Periodo: 2010M04<br />value:  87.562","Periodo: 2010M05<br />value:  87.756","Periodo: 2010M06<br />value:  87.913","Periodo: 2010M07<br />value:  87.519","Periodo: 2010M08<br />value:  87.740","Periodo: 2010M09<br />value:  87.801","Periodo: 2010M10<br />value:  88.603","Periodo: 2010M11<br />value:  89.084","Periodo: 2010M12<br />value:  89.631","Periodo: 2011M01<br />value:  88.975","Periodo: 2011M02<br />value:  89.088","Periodo: 2011M03<br />value:  89.754","Periodo: 2011M04<br />value:  90.871","Periodo: 2011M05<br />value:  90.841","Periodo: 2011M06<br />value:  90.713","Periodo: 2011M07<br />value:  90.226","Periodo: 2011M08<br />value:  90.338","Periodo: 2011M09<br />value:  90.559","Periodo: 2011M10<br />value:  91.273","Periodo: 2011M11<br />value:  91.643","Periodo: 2011M12<br />value:  91.762","Periodo: 2012M01<br />value:  90.753","Periodo: 2012M02<br />value:  90.847","Periodo: 2012M03<br />value:  91.458","Periodo: 2012M04<br />value:  92.743","Periodo: 2012M05<br />value:  92.606","Periodo: 2012M06<br />value:  92.433","Periodo: 2012M07<br />value:  92.217","Periodo: 2012M08<br />value:  92.736","Periodo: 2012M09<br />value:  93.649","Periodo: 2012M10<br />value:  94.445","Periodo: 2012M11<br />value:  94.328","Periodo: 2012M12<br />value:  94.394","Periodo: 2013M01<br />value:  93.188","Periodo: 2013M02<br />value:  93.349","Periodo: 2013M03<br />value:  93.678","Periodo: 2013M04<br />value:  94.028","Periodo: 2013M05<br />value:  94.201","Periodo: 2013M06<br />value:  94.340","Periodo: 2013M07<br />value:  93.853","Periodo: 2013M08<br />value:  94.145","Periodo: 2013M09<br />value:  93.969","Periodo: 2013M10<br />value:  94.351","Periodo: 2013M11<br />value:  94.547","Periodo: 2013M12<br />value:  94.632","Periodo: 2014M01<br />value:  93.373","Periodo: 2014M02<br />value:  93.333","Periodo: 2014M03<br />value:  93.541","Periodo: 2014M04<br />value:  94.373","Periodo: 2014M05<br />value:  94.395","Periodo: 2014M06<br />value:  94.421","Periodo: 2014M07<br />value:  93.533","Periodo: 2014M08<br />value:  93.681","Periodo: 2014M09<br />value:  93.824","Periodo: 2014M10<br />value:  94.261","Periodo: 2014M11<br />value:  94.195","Periodo: 2014M12<br />value:  93.646","Periodo: 2015M01<br />value:  92.141","Periodo: 2015M02<br />value:  92.331","Periodo: 2015M03<br />value:  92.920","Periodo: 2015M04<br />value:  93.774","Periodo: 2015M05<br />value:  94.222","Periodo: 2015M06<br />value:  94.474","Periodo: 2015M07<br />value:  93.597","Periodo: 2015M08<br />value:  93.286","Periodo: 2015M09<br />value:  92.999","Periodo: 2015M10<br />value:  93.595","Periodo: 2015M11<br />value:  93.937","Periodo: 2015M12<br />value:  93.663","Periodo: 2016M01<br />value:  91.876","Periodo: 2016M02<br />value:  91.552","Periodo: 2016M03<br />value:  92.139","Periodo: 2016M04<br />value:  92.785","Periodo: 2016M05<br />value:  93.292","Periodo: 2016M06<br />value:  93.723","Periodo: 2016M07<br />value:  93.041","Periodo: 2016M08<br />value:  93.161","Periodo: 2016M09<br />value:  93.165","Periodo: 2016M10<br />value:  94.230","Periodo: 2016M11<br />value:  94.572","Periodo: 2016M12<br />value:  95.132","Periodo: 2017M01<br />value:  94.609","Periodo: 2017M02<br />value:  94.269","Periodo: 2017M03<br />value:  94.249","Periodo: 2017M04<br />value:  95.154","Periodo: 2017M05<br />value:  95.097","Periodo: 2017M06<br />value:  95.138","Periodo: 2017M07<br />value:  94.482","Periodo: 2017M08<br />value:  94.670","Periodo: 2017M09<br />value:  94.835","Periodo: 2017M10<br />value:  95.710","Periodo: 2017M11<br />value:  96.147","Periodo: 2017M12<br />value:  96.190","Periodo: 2018M01<br />value:  95.153","Periodo: 2018M02<br />value:  95.281","Periodo: 2018M03<br />value:  95.393","Periodo: 2018M04<br />value:  96.181","Periodo: 2018M05<br />value:  97.048","Periodo: 2018M06<br />value:  97.302","Periodo: 2018M07<br />value:  96.604","Periodo: 2018M08<br />value:  96.742","Periodo: 2018M09<br />value:  96.978","Periodo: 2018M10<br />value:  97.875","Periodo: 2018M11<br />value:  97.768","Periodo: 2018M12<br />value:  97.329","Periodo: 2019M01<br />value:  96.085","Periodo: 2019M02<br />value:  96.320","Periodo: 2019M03<br />value:  96.669","Periodo: 2019M04<br />value:  97.644","Periodo: 2019M05<br />value:  97.834","Periodo: 2019M06<br />value:  97.719","Periodo: 2019M07<br />value:  97.113","Periodo: 2019M08<br />value:  97.059","Periodo: 2019M09<br />value:  97.059","Periodo: 2019M10<br />value:  98.001","Periodo: 2019M11<br />value:  98.167","Periodo: 2019M12<br />value:  98.096","Periodo: 2020M01<br />value:  97.139","Periodo: 2020M02<br />value:  97.024","Periodo: 2020M03<br />value:  96.652","Periodo: 2020M04<br />value:  96.944","Periodo: 2020M05<br />value:  96.938","Periodo: 2020M06<br />value:  97.385","Periodo: 2020M07<br />value:  96.511","Periodo: 2020M08<br />value:  96.555","Periodo: 2020M09<br />value:  96.700","Periodo: 2020M10<br />value:  97.208","Periodo: 2020M11<br />value:  97.367","Periodo: 2020M12<br />value:  97.574","Periodo: 2021M01<br />value:  97.583","Periodo: 2021M02<br />value:  97.008","Periodo: 2021M03<br />value:  97.949","Periodo: 2021M04<br />value:  99.105","Periodo: 2021M05<br />value:  99.572","Periodo: 2021M06<br />value: 100.046","Periodo: 2021M07<br />value:  99.292","Periodo: 2021M08<br />value:  99.743","Periodo: 2021M09<br />value: 100.575","Periodo: 2021M10<br />value: 102.425","Periodo: 2021M11<br />value: 102.738","Periodo: 2021M12<br />value: 103.965","Periodo: 2022M01<br />value: 103.567","Periodo: 2022M02<br />value: 104.403","Periodo: 2022M03<br />value: 107.566","Periodo: 2022M04<br />value: 107.375","Periodo: 2022M05<br />value: 108.262","Periodo: 2022M06<br />value: 110.267","Periodo: 2022M07<br />value: 109.986","Periodo: 2022M08<br />value: 110.265","Periodo: 2022M09<br />value: 109.498","Periodo: 2022M10<br />value: 109.866","Periodo: 2022M11<br />value: 109.734","Periodo: 2022M12<br />value: 109.899","Periodo: 2023M01<br />value: 109.668","Periodo: 2023M02<br />value: 110.703","Periodo: 2023M03<br />value: 111.111","Periodo: 2023M04<br />value: 111.773","Periodo: 2023M05<br />value: 111.719","Periodo: 2023M06<br />value: 112.354","Periodo: 2023M07<br />value: 112.544","Periodo: 2023M08<br />value: 113.149","Periodo: 2023M09<br />value: 113.348","Periodo: 2023M10<br />value: 113.676","Periodo: 2023M11<br />value: 113.280","Periodo: 2023M12<br />value: 113.308"],"type":"scatter","mode":"lines","line":{"width":4.0818897637795279,"color":"rgba(0,0,0,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":97.317102081347258,"r":62.719999999999992,"b":109.55258725477734,"l":96.268997563790947},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(234,242,243,1)","font":{"color":"rgba(0,0,0,1)","family":"sans","size":14.611872146118724},"title":{"text":"Índice nivel de precios (Base100 = 2021)","font":{"color":"rgba(30,45,83,1)","family":"sans","size":18.597102081347259},"x":0.5,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,264.60000000000002],"tickmode":"array","ticktext":["2023","2022","2021","2020","2019","2018","2017","2016","2015","2014","2013","2012","2011","2010","2009","2008","2007","2006","2005","2004","2003","2002"],"tickvals":[253,241,229,217,205,193,181,169,157,145,133,121,109,97,85,73,61,49,37,25,13,1],"categoryorder":"array","categoryarray":["2023","2022","2021","2020","2019","2018","2017","2016","2015","2014","2013","2012","2011","2010","2009","2008","2007","2006","2005","2004","2003","2002"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":6.9818181818181806,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"sans","size":13.283589690986393},"tickangle":-90,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Año","font":{"color":"rgba(0,0,0,1)","family":"sans","size":13.283589690986393}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[67.322699999999998,115.88330000000001],"tickmode":"array","ticktext":["70","80","90","100","110"],"tickvals":[70,80,90,100,110],"categoryorder":"array","categoryarray":["70","80","90","100","110"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":6.9818181818181806,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"sans","size":13.283589690986393},"tickangle":-90,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":true,"gridcolor":"rgba(234,242,243,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Índice","font":{"color":"rgba(0,0,0,1)","family":"sans","size":13.283589690986393}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"rgba(0,0,0,1)","borderwidth":1.2598425196850394,"font":{"color":"rgba(0,0,0,1)","family":"sans","size":13.283589690986393}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"228c4f0f1ed4":{"x":{},"y":{},"type":"scatter"}},"cur_data":"228c4f0f1ed4","visdat":{"228c4f0f1ed4":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Como podemos observar, la inflación evoluciona de manera más o menos uniforme desde el inicio del gráfico hasta el año 2021 con algunos periodos de estancamiento (2013-2016 y 2020-2021). Estos periodos no son especialmente extraños, ya que a nivel europeo se han reproducido situaciones similares. Cabe mencionar cómo en prácticamente todos los años repiten un patrón de crecimiento de los precios hasta mitad de año, para luego decrecer ligeramente y volver a crecer hasta final de año. Inferimos que esto se debe a la bajada de la actividad económica que tiene lugar en verano todos los años.</p>
<p>Lo más destacable es sin duda el crecimiento que tiene lugar desde el año 2021 hasta el final del 2023, el cual es mucho mayor al del resto de la serie histórica. Como sabemos, en este periodo la mayoría de las economías occidentales ha experimentado elevadas tasas de inflación, por lo que no es un fenómeno exclusivo de España.</p>
</section><section id="mapa-de-comunidades-autónomas" class="level2"><h2 class="anchored" data-anchor-id="mapa-de-comunidades-autónomas">Mapa de comunidades autónomas</h2>
<p>Bueno pues vamos a hacer algún gráfico, pero claro antes he de cargar los paquetes</p>
<div class="cell" data-layout-align="center">
<details open=""><summary>Código</summary><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>df_ab <span class="ot">&lt;-</span> df_ab <span class="sc">%&gt;%</span> </span>
<span id="cb3-2"><a href="#cb3-2"></a>dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">CCAA =</span> Comunidades.y.Ciudades.Autónomas, <span class="at">Datos =</span> Tipo.de.dato, <span class="at">Grupo =</span> Grupos.ECOICOP)</span>
<span id="cb3-3"><a href="#cb3-3"></a></span>
<span id="cb3-4"><a href="#cb3-4"></a></span>
<span id="cb3-5"><a href="#cb3-5"></a>prov <span class="ot">&lt;-</span> pjpv.curso.R<span class="fl">.2022</span><span class="sc">::</span>LAU2_prov_2020_canarias</span>
<span id="cb3-6"><a href="#cb3-6"></a></span>
<span id="cb3-7"><a href="#cb3-7"></a>ccaa <span class="ot">&lt;-</span> prov <span class="sc">%&gt;%</span> </span>
<span id="cb3-8"><a href="#cb3-8"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(ine_ccaa, ine_ccaa.n, ine_ccaa.n.pjp) <span class="sc">%&gt;%</span> </span>
<span id="cb3-9"><a href="#cb3-9"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>() <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">ungroup</span>()</span>
<span id="cb3-10"><a href="#cb3-10"></a></span>
<span id="cb3-11"><a href="#cb3-11"></a></span>
<span id="cb3-12"><a href="#cb3-12"></a>ccaa <span class="ot">&lt;-</span> ccaa <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">CCAA =</span> ine_ccaa.n) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span>CCAA <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Ceuta"</span>, <span class="st">"Melilla"</span>))</span>
<span id="cb3-13"><a href="#cb3-13"></a></span>
<span id="cb3-14"><a href="#cb3-14"></a>df_CCAA <span class="ot">&lt;-</span> df_ab <span class="sc">%&gt;%</span></span>
<span id="cb3-15"><a href="#cb3-15"></a>  <span class="fu">filter</span>(<span class="sc">!</span>CCAA <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Nacional"</span>, <span class="st">"18 Ceuta"</span>, <span class="st">"19 Melilla"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-16"><a href="#cb3-16"></a>  <span class="fu">filter</span>(Grupo <span class="sc">==</span> <span class="st">"Índice general"</span>, Datos <span class="sc">==</span> <span class="st">"Índice"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-17"><a href="#cb3-17"></a>  <span class="fu">filter</span>(Periodo <span class="sc">==</span> <span class="st">"2023M12"</span>)</span>
<span id="cb3-18"><a href="#cb3-18"></a></span>
<span id="cb3-19"><a href="#cb3-19"></a>df_CCAA <span class="ot">&lt;-</span> df_CCAA <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">CCAA =</span> <span class="fu">case_when</span>( </span>
<span id="cb3-20"><a href="#cb3-20"></a>  CCAA <span class="sc">==</span> <span class="st">"01 Andalucía"</span> <span class="sc">~</span> <span class="st">"Andalucía"</span>,</span>
<span id="cb3-21"><a href="#cb3-21"></a>  CCAA <span class="sc">==</span> <span class="st">"02 Aragón"</span> <span class="sc">~</span> <span class="st">"Aragón"</span>,</span>
<span id="cb3-22"><a href="#cb3-22"></a>  CCAA <span class="sc">==</span> <span class="st">"03 Asturias, Principado de"</span> <span class="sc">~</span> <span class="st">"Asturias, Principado de"</span>,</span>
<span id="cb3-23"><a href="#cb3-23"></a>  CCAA <span class="sc">==</span> <span class="st">"04 Balears, Illes"</span> <span class="sc">~</span> <span class="st">"Balears, Illes"</span>,</span>
<span id="cb3-24"><a href="#cb3-24"></a>  CCAA <span class="sc">==</span> <span class="st">"05 Canarias"</span> <span class="sc">~</span> <span class="st">"Canarias"</span>,</span>
<span id="cb3-25"><a href="#cb3-25"></a>  CCAA <span class="sc">==</span> <span class="st">"06 Cantabria"</span> <span class="sc">~</span> <span class="st">"Cantabria"</span>,</span>
<span id="cb3-26"><a href="#cb3-26"></a>  CCAA <span class="sc">==</span> <span class="st">"07 Castilla y León"</span> <span class="sc">~</span> <span class="st">"Castilla y León"</span>,</span>
<span id="cb3-27"><a href="#cb3-27"></a>  CCAA <span class="sc">==</span> <span class="st">"08 Castilla - La Mancha"</span> <span class="sc">~</span> <span class="st">"Castilla-La Mancha"</span>,</span>
<span id="cb3-28"><a href="#cb3-28"></a>  CCAA <span class="sc">==</span> <span class="st">"09 Cataluña"</span> <span class="sc">~</span> <span class="st">"Cataluña"</span>,</span>
<span id="cb3-29"><a href="#cb3-29"></a>  CCAA <span class="sc">==</span> <span class="st">"10 Comunitat Valenciana"</span> <span class="sc">~</span> <span class="st">"Comunitat Valenciana"</span>,</span>
<span id="cb3-30"><a href="#cb3-30"></a>  CCAA <span class="sc">==</span> <span class="st">"11 Extremadura"</span> <span class="sc">~</span> <span class="st">"Extremadura"</span>,</span>
<span id="cb3-31"><a href="#cb3-31"></a>  CCAA <span class="sc">==</span> <span class="st">"12 Galicia"</span> <span class="sc">~</span> <span class="st">"Galicia"</span>,</span>
<span id="cb3-32"><a href="#cb3-32"></a>  CCAA <span class="sc">==</span> <span class="st">"13 Madrid, Comunidad de"</span> <span class="sc">~</span> <span class="st">"Madrid, Comunidad de"</span>,</span>
<span id="cb3-33"><a href="#cb3-33"></a>  CCAA <span class="sc">==</span> <span class="st">"14 Murcia, Región de"</span> <span class="sc">~</span> <span class="st">"Murcia, Región de"</span>,</span>
<span id="cb3-34"><a href="#cb3-34"></a>  CCAA <span class="sc">==</span> <span class="st">"15 Navarra, Comunidad Foral de"</span> <span class="sc">~</span> <span class="st">"Navarra, Comunidad Foral de"</span>,</span>
<span id="cb3-35"><a href="#cb3-35"></a>  CCAA <span class="sc">==</span> <span class="st">"16 País Vasco"</span> <span class="sc">~</span> <span class="st">"País Vasco"</span>,</span>
<span id="cb3-36"><a href="#cb3-36"></a>  CCAA <span class="sc">==</span> <span class="st">"17 Rioja, La"</span> <span class="sc">~</span> <span class="st">"Rioja, La"</span>, </span>
<span id="cb3-37"><a href="#cb3-37"></a>  <span class="cn">TRUE</span> <span class="sc">~</span> CCAA)) <span class="sc">%&gt;%</span></span>
<span id="cb3-38"><a href="#cb3-38"></a>  <span class="fu">filter</span>(<span class="sc">!</span>CCAA <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Nacional"</span>, <span class="st">"18 Ceuta"</span>, <span class="st">"19 Melilla"</span>))</span>
<span id="cb3-39"><a href="#cb3-39"></a></span>
<span id="cb3-40"><a href="#cb3-40"></a></span>
<span id="cb3-41"><a href="#cb3-41"></a></span>
<span id="cb3-42"><a href="#cb3-42"></a>conjunto <span class="ot">&lt;-</span> <span class="fu">full_join</span>(ccaa, df_CCAA, <span class="at">by =</span> <span class="st">"CCAA"</span>)</span>
<span id="cb3-43"><a href="#cb3-43"></a></span>
<span id="cb3-44"><a href="#cb3-44"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb3-45"><a href="#cb3-45"></a>escala_limites <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">110</span>, <span class="dv">118</span>)</span>
<span id="cb3-46"><a href="#cb3-46"></a></span>
<span id="cb3-47"><a href="#cb3-47"></a>p4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(conjunto, <span class="fu">aes</span>(<span class="at">fill =</span> value)) <span class="sc">+</span></span>
<span id="cb3-48"><a href="#cb3-48"></a>  <span class="fu">geom_sf</span>() <span class="sc">+</span></span>
<span id="cb3-49"><a href="#cb3-49"></a>  <span class="fu">geom_sf_label</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">as.character</span>(value)), <span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb3-50"><a href="#cb3-50"></a>  <span class="fu">scale_fill_gradient</span>(</span>
<span id="cb3-51"><a href="#cb3-51"></a>    <span class="at">guide =</span> <span class="st">"legend"</span>,</span>
<span id="cb3-52"><a href="#cb3-52"></a>    <span class="at">limits =</span> escala_limites,</span>
<span id="cb3-53"><a href="#cb3-53"></a>    <span class="at">low =</span> <span class="st">"#FFD700"</span>,</span>
<span id="cb3-54"><a href="#cb3-54"></a>    <span class="at">high =</span> <span class="st">"#FF0000"</span>   </span>
<span id="cb3-55"><a href="#cb3-55"></a>  ) <span class="sc">+</span></span>
<span id="cb3-56"><a href="#cb3-56"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Índice nivel de precios por CCAA, diciembre 2023 (100 = 2021)"</span>, <span class="at">caption =</span> <span class="st">"Elaboración propia a partir de datos extraídos de INE"</span>) <span class="sc">+</span></span>
<span id="cb3-57"><a href="#cb3-57"></a>  <span class="fu">theme_void</span>()</span>
<span id="cb3-58"><a href="#cb3-58"></a></span>
<span id="cb3-59"><a href="#cb3-59"></a>p4</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
<p>En este mapa de coropletas tenemos el valor final de la serie histórica anterior pero esta vez para cada comunidad autónoma. Como podemos observar, el nivel es bastante homogéneo a lo largo de todo el país. Sin embargo, destaca la diferencia que hay entre dos regiones tan próximas como son Castilla-La Mancha y Madrid, que son a su vez las regiones con el nivel más alto y más bajo respectivamente. Suponemos que la diferencia se debe a la composición de los sectores productivos de cada región.</p>
<p>Dado el llamativo crecimiento del índice del nivel de precios a partir de 2021, vamos ahora a observar más de cerca este periodo.</p>
</section><section id="el-reciente-ciclo-inflacionista" class="level2"><h2 class="anchored" data-anchor-id="el-reciente-ciclo-inflacionista">El reciente ciclo inflacionista</h2>
<div class="cell" data-layout-align="center">
<details open=""><summary>Código</summary><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>df3 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2"></a>  <span class="fu">filter</span>(Dato <span class="sc">==</span> <span class="st">"Variación mensual"</span>, Grupo <span class="sc">==</span> <span class="st">"Índice general"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">35</span>)</span>
<span id="cb4-4"><a href="#cb4-4"></a></span>
<span id="cb4-5"><a href="#cb4-5"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> df3,</span>
<span id="cb4-6"><a href="#cb4-6"></a>             <span class="fu">aes</span>(<span class="at">x =</span> Periodo, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb4-7"><a href="#cb4-7"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"#000080"</span>) <span class="sc">+</span> </span>
<span id="cb4-8"><a href="#cb4-8"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb4-9"><a href="#cb4-9"></a>  <span class="fu">theme_stata</span>() <span class="sc">+</span></span>
<span id="cb4-10"><a href="#cb4-10"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Evolución de la Inflación España"</span>, <span class="at">caption =</span> <span class="st">"Elaboración propia a partir de datos extraídos del INE"</span>, <span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Tasa de inflación"</span>) <span class="sc">+</span> </span>
<span id="cb4-11"><a href="#cb4-11"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust=</span><span class="dv">1</span>), <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>), <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb4-12"><a href="#cb4-12"></a></span>
<span id="cb4-13"><a href="#cb4-13"></a></span>
<span id="cb4-14"><a href="#cb4-14"></a>df4 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb4-15"><a href="#cb4-15"></a>  <span class="fu">filter</span>(Dato <span class="sc">==</span> <span class="st">"Variación anual"</span>, Grupo <span class="sc">==</span> <span class="st">"Índice general"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-16"><a href="#cb4-16"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">35</span>)</span>
<span id="cb4-17"><a href="#cb4-17"></a></span>
<span id="cb4-18"><a href="#cb4-18"></a>p5 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df4, <span class="fu">aes</span>(<span class="at">x =</span> Periodo, <span class="at">y =</span> value, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb4-19"><a href="#cb4-19"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="fl">1.08</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb4-20"><a href="#cb4-20"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb4-21"><a href="#cb4-21"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Índice"</span>, <span class="at">title =</span> <span class="st">"Índice nivel de precios (Base100 = 2021)"</span>) <span class="sc">+</span></span>
<span id="cb4-22"><a href="#cb4-22"></a>  <span class="fu">theme_stata</span>() <span class="sc">+</span> <span class="fu">rotateTextX</span>() <span class="sc">+</span> p2</span>
<span id="cb4-23"><a href="#cb4-23"></a></span>
<span id="cb4-24"><a href="#cb4-24"></a>df3 <span class="ot">&lt;-</span> df3 <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(Periodo)</span>
<span id="cb4-25"><a href="#cb4-25"></a>df4 <span class="ot">&lt;-</span> df4 <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(Periodo)</span>
<span id="cb4-26"><a href="#cb4-26"></a></span>
<span id="cb4-27"><a href="#cb4-27"></a><span class="co"># Fusionar los gráficos p2 y p5</span></span>
<span id="cb4-28"><a href="#cb4-28"></a>p_combined <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb4-29"><a href="#cb4-29"></a>  <span class="fu">geom_col</span>(<span class="at">data =</span> df3, <span class="fu">aes</span>(<span class="at">x =</span> Periodo, <span class="at">y =</span> value), <span class="at">fill =</span> <span class="st">"#000080"</span>) <span class="sc">+</span></span>
<span id="cb4-30"><a href="#cb4-30"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> df4, <span class="fu">aes</span>(<span class="at">x =</span> Periodo, <span class="at">y =</span> value, <span class="at">group =</span> <span class="dv">1</span>), <span class="at">size =</span> <span class="fl">1.08</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb4-31"><a href="#cb4-31"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb4-32"><a href="#cb4-32"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>), </span>
<span id="cb4-33"><a href="#cb4-33"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>), </span>
<span id="cb4-34"><a href="#cb4-34"></a>        <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb4-35"><a href="#cb4-35"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Evolución de la Inflación en España"</span>, </span>
<span id="cb4-36"><a href="#cb4-36"></a>       <span class="at">caption =</span> <span class="st">"Elaboración propia a partir de datos extraídos del INE"</span>, </span>
<span id="cb4-37"><a href="#cb4-37"></a>       <span class="at">x =</span> <span class="st">"Año"</span>, </span>
<span id="cb4-38"><a href="#cb4-38"></a>       <span class="at">y =</span> <span class="st">"Tasa de inflación"</span>) <span class="sc">+</span> <span class="fu">theme_stata</span>() <span class="sc">+</span> <span class="fu">rotateTextX</span>()</span>
<span id="cb4-39"><a href="#cb4-39"></a></span>
<span id="cb4-40"><a href="#cb4-40"></a>plotly<span class="sc">::</span><span class="fu">ggplotly</span>(p_combined)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-dc18ac99790821f4c038" style="width:95%;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-dc18ac99790821f4c038">{"x":{"data":[{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000213,0.90000000000000568,0.90000000000000568,0.90000000000000568],"base":[-0.59999999999999998,0,0,0,0,-0.80000000000000004,0,0,0,0,0,-0.40000000000000002,0,0,-0.20000000000000001,0,0,-0.29999999999999999,0,-0.69999999999999996,0,-0.10000000000000001,0,-0.20000000000000001,0,0,0,0,0,0,0,0,0,-0.29999999999999999,0],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35],"y":[0.59999999999999998,1,1.2,0.5,0.5,0.80000000000000004,0.5,0.80000000000000004,1.8,0.29999999999999999,1.2,0.40000000000000002,0.80000000000000004,3,0.20000000000000001,0.80000000000000004,1.8999999999999999,0.29999999999999999,0.29999999999999999,0.69999999999999996,0.29999999999999999,0.10000000000000001,0.20000000000000001,0.20000000000000001,0.90000000000000002,0.40000000000000002,0.59999999999999998,0,0.59999999999999998,0.20000000000000001,0.5,0.20000000000000001,0.29999999999999999,0.29999999999999999,0],"text":["Periodo: 2021M02<br />value: -0.6","Periodo: 2021M03<br />value:  1.0","Periodo: 2021M04<br />value:  1.2","Periodo: 2021M05<br />value:  0.5","Periodo: 2021M06<br />value:  0.5","Periodo: 2021M07<br />value: -0.8","Periodo: 2021M08<br />value:  0.5","Periodo: 2021M09<br />value:  0.8","Periodo: 2021M10<br />value:  1.8","Periodo: 2021M11<br />value:  0.3","Periodo: 2021M12<br />value:  1.2","Periodo: 2022M01<br />value: -0.4","Periodo: 2022M02<br />value:  0.8","Periodo: 2022M03<br />value:  3.0","Periodo: 2022M04<br />value: -0.2","Periodo: 2022M05<br />value:  0.8","Periodo: 2022M06<br />value:  1.9","Periodo: 2022M07<br />value: -0.3","Periodo: 2022M08<br />value:  0.3","Periodo: 2022M09<br />value: -0.7","Periodo: 2022M10<br />value:  0.3","Periodo: 2022M11<br />value: -0.1","Periodo: 2022M12<br />value:  0.2","Periodo: 2023M01<br />value: -0.2","Periodo: 2023M02<br />value:  0.9","Periodo: 2023M03<br />value:  0.4","Periodo: 2023M04<br />value:  0.6","Periodo: 2023M05<br />value:  0.0","Periodo: 2023M06<br />value:  0.6","Periodo: 2023M07<br />value:  0.2","Periodo: 2023M08<br />value:  0.5","Periodo: 2023M09<br />value:  0.2","Periodo: 2023M10<br />value:  0.3","Periodo: 2023M11<br />value: -0.3","Periodo: 2023M12<br />value:  0.0"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,0,128,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35],"y":[0,1.3,2.2000000000000002,2.7000000000000002,2.7000000000000002,2.8999999999999999,3.2999999999999998,4,5.4000000000000004,5.5,6.5,6.0999999999999996,7.5999999999999996,9.8000000000000007,8.3000000000000007,8.6999999999999993,10.199999999999999,10.800000000000001,10.5,8.9000000000000004,7.2999999999999998,6.7999999999999998,5.7000000000000002,5.9000000000000004,6,3.2999999999999998,4.0999999999999996,3.2000000000000002,1.8999999999999999,2.2999999999999998,2.6000000000000001,3.5,3.5,3.2000000000000002,3.1000000000000001],"text":["Periodo: 2021M02<br />value:  0.0","Periodo: 2021M03<br />value:  1.3","Periodo: 2021M04<br />value:  2.2","Periodo: 2021M05<br />value:  2.7","Periodo: 2021M06<br />value:  2.7","Periodo: 2021M07<br />value:  2.9","Periodo: 2021M08<br />value:  3.3","Periodo: 2021M09<br />value:  4.0","Periodo: 2021M10<br />value:  5.4","Periodo: 2021M11<br />value:  5.5","Periodo: 2021M12<br />value:  6.5","Periodo: 2022M01<br />value:  6.1","Periodo: 2022M02<br />value:  7.6","Periodo: 2022M03<br />value:  9.8","Periodo: 2022M04<br />value:  8.3","Periodo: 2022M05<br />value:  8.7","Periodo: 2022M06<br />value: 10.2","Periodo: 2022M07<br />value: 10.8","Periodo: 2022M08<br />value: 10.5","Periodo: 2022M09<br />value:  8.9","Periodo: 2022M10<br />value:  7.3","Periodo: 2022M11<br />value:  6.8","Periodo: 2022M12<br />value:  5.7","Periodo: 2023M01<br />value:  5.9","Periodo: 2023M02<br />value:  6.0","Periodo: 2023M03<br />value:  3.3","Periodo: 2023M04<br />value:  4.1","Periodo: 2023M05<br />value:  3.2","Periodo: 2023M06<br />value:  1.9","Periodo: 2023M07<br />value:  2.3","Periodo: 2023M08<br />value:  2.6","Periodo: 2023M09<br />value:  3.5","Periodo: 2023M10<br />value:  3.5","Periodo: 2023M11<br />value:  3.2","Periodo: 2023M12<br />value:  3.1"],"type":"scatter","mode":"lines","line":{"width":4.0818897637795279,"color":"rgba(255,0,0,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":97.317102081347258,"r":62.719999999999992,"b":129.47797179125695,"l":96.268997563790947},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(234,242,243,1)","font":{"color":"rgba(0,0,0,1)","family":"sans","size":14.611872146118724},"title":{"text":"Evolución de la Inflación en España","font":{"color":"rgba(30,45,83,1)","family":"sans","size":18.597102081347259},"x":0.5,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,35.600000000000001],"tickmode":"array","ticktext":["2021M02","2021M03","2021M04","2021M05","2021M06","2021M07","2021M08","2021M09","2021M10","2021M11","2021M12","2022M01","2022M02","2022M03","2022M04","2022M05","2022M06","2022M07","2022M08","2022M09","2022M10","2022M11","2022M12","2023M01","2023M02","2023M03","2023M04","2023M05","2023M06","2023M07","2023M08","2023M09","2023M10","2023M11","2023M12"],"tickvals":[1,2,2.9999999999999996,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23.000000000000004,24,25,26,27,28,29,29.999999999999996,31,32,33,34,35],"categoryorder":"array","categoryarray":["2021M02","2021M03","2021M04","2021M05","2021M06","2021M07","2021M08","2021M09","2021M10","2021M11","2021M12","2022M01","2022M02","2022M03","2022M04","2022M05","2022M06","2022M07","2022M08","2022M09","2022M10","2022M11","2022M12","2023M01","2023M02","2023M03","2023M04","2023M05","2023M06","2023M07","2023M08","2023M09","2023M10","2023M11","2023M12"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":6.9818181818181806,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"sans","size":13.283589690986393},"tickangle":-90,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Año","font":{"color":"rgba(0,0,0,1)","family":"sans","size":13.283589690986393}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.3800000000000001,11.380000000000001],"tickmode":"array","ticktext":["0","4","8"],"tickvals":[0,4,8],"categoryorder":"array","categoryarray":["0","4","8"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":6.9818181818181806,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"sans","size":13.283589690986393},"tickangle":-90,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":true,"gridcolor":"rgba(234,242,243,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Tasa de inflación","font":{"color":"rgba(0,0,0,1)","family":"sans","size":13.283589690986393}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"rgba(0,0,0,1)","borderwidth":1.2598425196850394,"font":{"color":"rgba(0,0,0,1)","family":"sans","size":13.283589690986393}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"228c11321ba7":{"x":{},"y":{},"type":"bar"},"228c60414938":{"x":{},"y":{}}},"cur_data":"228c11321ba7","visdat":{"228c11321ba7":["function (y) ","x"],"228c60414938":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>En este gráfico podemos observar en forma de columnas las tasas de inflación mensuales (la variación de los precios mes a mes) junto con las tasas de variación anual de esos mismos meses (la variación de los precios respecto a ese mismo mes del año anterior). Aquí se puede observar cómo las elevadas tasas de inflación mensual han sido elevadas desde los inicios de 2021 hasta mediados de 2022. Esto se ha traducido en tasas de inflación interanual que no habíamos visto en nuestro país desde hace prácticamente 40 años. La tasa más elevada que hemos llegado a ver en este ciclo inflacionario fue la de julio de 2022, con un 10’8% respecto a julio de 2021. A partir de ahí el ritmo al que crecían los precios dejó de aumentar, pero no los precios. En los meses posteriores se observa cómo la tasa de inflación interanual empieza a ser más baja, pero no solo por las tasas mensuales reducidas, también por el efecto base: el incremento de julio de 2021 a julio de 2022 fue tal que, la variación hasta julio de 2023 es mucho más pequeña aunque solo sea porque ahora se calcula sobre una base mucho mayor. Pero eso no significa que los precios estén cayendo. Buena prueba de ello es el primer gráfico. Probablemente sería más interesante centrarse en las causas de la inflación y no tanto en su evolución, pero el tema se nos escapa.</p>
<p>Os dejamos por aquí un reciente estudio sobre las causas de la inflación en Estados Unido y en Europa.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<blockquote class="twitter-tweet blockquote" data-width="550" data-lang="en" data-dnt="true" data-theme="light">
<p lang="es" dir="ltr">Giovanni et alii actualizan su paper (del que ya os hablé aquí: <a href="https://t.co/Ays4MHUUX8">https://t.co/Ays4MHUUX8</a>) y concluyen, nuevamente, que el grueso de la inflación en 2022 fue causado por exceso de demanda agregada. (1/3)<a href="https://t.co/inmAM3WgtX">https://t.co/inmAM3WgtX</a> <a href="https://t.co/H4fBa0S104">pic.twitter.com/H4fBa0S104</a></p>— Juan Ramón Rallo (@juanrallo) <a href="https://twitter.com/juanrallo/status/1749043112243057103?ref_src=twsrc%5Etfw">January 21, 2024</a>
</blockquote>

</div>
</div>
</section><section id="meses-históricos" class="level2"><h2 class="anchored" data-anchor-id="meses-históricos">Meses históricos</h2>
<p>Ahora lo que queremos es ver qué meses de la serie histórica de la que disponemos (de 2002 a la actualidad) han sido los que han tenido una mayor tasa de inflación mensual. Para ello tenemos el siguiente cuadro:</p>
<div class="cell" data-layout-align="center">
<details open=""><summary>Código</summary><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>df8 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="#cb5-2"></a>  <span class="fu">filter</span>(Grupo <span class="sc">==</span> <span class="st">"Índice general"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="fu">filter</span>(Dato <span class="sc">==</span> <span class="st">"Variación mensual"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">Variacion_mensual =</span> value) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>  <span class="fu">slice_max</span>(<span class="at">n =</span> <span class="dv">14</span>, <span class="at">order_by =</span> Variacion_mensual) <span class="sc">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>  <span class="fu">select</span>(<span class="sc">-</span>(Dato)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>(Grupo)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>(X))</span>
<span id="cb5-7"><a href="#cb5-7"></a></span>
<span id="cb5-8"><a href="#cb5-8"></a></span>
<span id="cb5-9"><a href="#cb5-9"></a></span>
<span id="cb5-10"><a href="#cb5-10"></a>tabla_mensual <span class="ot">&lt;-</span> df8 <span class="sc">%&gt;%</span></span>
<span id="cb5-11"><a href="#cb5-11"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-12"><a href="#cb5-12"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span>),</span>
<span id="cb5-13"><a href="#cb5-13"></a>                <span class="at">font_size =</span> <span class="dv">14</span>, <span class="at">full_width =</span> <span class="cn">FALSE</span>)</span>
<span id="cb5-14"><a href="#cb5-14"></a></span>
<span id="cb5-15"><a href="#cb5-15"></a>tabla_mensual</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">

<table class="table table-striped table-hover table-condensed table-responsive" style="font-size: 14px; width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;"> Periodo </th>
   <th style="text-align:right;"> Variacion_mensual </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> 2022M03 </td>
   <td style="text-align:right;"> 3.0 </td>
  </tr>
<tr>
<td style="text-align:left;"> 2022M06 </td>
   <td style="text-align:right;"> 1.9 </td>
  </tr>
<tr>
<td style="text-align:left;"> 2021M10 </td>
   <td style="text-align:right;"> 1.8 </td>
  </tr>
<tr>
<td style="text-align:left;"> 2012M04 </td>
   <td style="text-align:right;"> 1.4 </td>
  </tr>
<tr>
<td style="text-align:left;"> 2007M04 </td>
   <td style="text-align:right;"> 1.4 </td>
  </tr>
<tr>
<td style="text-align:left;"> 2006M04 </td>
   <td style="text-align:right;"> 1.4 </td>
  </tr>
<tr>
<td style="text-align:left;"> 2005M04 </td>
   <td style="text-align:right;"> 1.4 </td>
  </tr>
<tr>
<td style="text-align:left;"> 2004M04 </td>
   <td style="text-align:right;"> 1.4 </td>
  </tr>
<tr>
<td style="text-align:left;"> 2002M04 </td>
   <td style="text-align:right;"> 1.4 </td>
  </tr>
<tr>
<td style="text-align:left;"> 2007M10 </td>
   <td style="text-align:right;"> 1.3 </td>
  </tr>
<tr>
<td style="text-align:left;"> 2021M12 </td>
   <td style="text-align:right;"> 1.2 </td>
  </tr>
<tr>
<td style="text-align:left;"> 2021M04 </td>
   <td style="text-align:right;"> 1.2 </td>
  </tr>
<tr>
<td style="text-align:left;"> 2011M04 </td>
   <td style="text-align:right;"> 1.2 </td>
  </tr>
<tr>
<td style="text-align:left;"> 2016M10 </td>
   <td style="text-align:right;"> 1.1 </td>
  </tr>
<tr>
<td style="text-align:left;"> 2010M04 </td>
   <td style="text-align:right;"> 1.1 </td>
  </tr>
<tr>
<td style="text-align:left;"> 2008M04 </td>
   <td style="text-align:right;"> 1.1 </td>
  </tr>
</tbody>
</table>
</div>
</div>
<p>Salta a la vista que los 3 primeros meses con mayor variación mensual han sido de este ciclo inflacionista, 5 de los 12 primeros datos lo son. El primer dato, con un 3% en marzo de 2022 es, con diferencia el dato más elevado que tenemos. Para que nos hagamos a la idea, ese dato anualizado nos daría una tasa de inflación del 42’58%, poniéndonos a la altura de países como Turquía o Argentina. El segundo es junio de 2022 con un 1’9% y el tercero es de octubre de 2021 con 1’8%. Hay también varios datos de entre 2004 y 2007. Esto también es lógico, ya que durante estos años hubo inflación asociada al crecimiento económico y a la gestación de la burbuja inmobiliaria.</p>
<p>Para terminar, queremos observar qué bienes o servicios son los que tienen tasas de variación mensuales más elevadas. Para ello tenemos el siguiente gráfico, donde se muestran los 24 meses con un mayor aumento de precios para cualquier bien o servicio determinado.</p>
</section><section id="meses-con-mayores-tasas-según-porducto" class="level2"><h2 class="anchored" data-anchor-id="meses-con-mayores-tasas-según-porducto">Meses con mayores tasas según porducto</h2>
<div class="cell" data-layout-align="center">
<details open=""><summary>Código</summary><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>df9 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="fu">filter</span>(Dato <span class="sc">==</span> <span class="st">"Variación mensual"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">Variacion_mensual =</span> value) <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="fu">slice_max</span>(<span class="at">n =</span> <span class="dv">24</span>, <span class="at">order_by =</span> Variacion_mensual) <span class="sc">%&gt;%</span></span>
<span id="cb6-5"><a href="#cb6-5"></a>  <span class="fu">select</span>(<span class="sc">-</span>(X)) <span class="sc">%&gt;%</span></span>
<span id="cb6-6"><a href="#cb6-6"></a>  <span class="fu">arrange</span>(Variacion_mensual)</span>
<span id="cb6-7"><a href="#cb6-7"></a></span>
<span id="cb6-8"><a href="#cb6-8"></a>p9 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> df9,</span>
<span id="cb6-9"><a href="#cb6-9"></a>             <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(Periodo, Variacion_mensual), <span class="at">y =</span> Variacion_mensual, <span class="at">fill =</span> Grupo)) <span class="sc">+</span></span>
<span id="cb6-10"><a href="#cb6-10"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb6-11"><a href="#cb6-11"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb6-12"><a href="#cb6-12"></a>  <span class="fu">theme_stata</span>() <span class="sc">+</span></span>
<span id="cb6-13"><a href="#cb6-13"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Mayores variaciones mensuales por sector y año"</span>, <span class="at">caption =</span> <span class="st">"Elaboración propia a partir de datos extraídos del INE"</span>, <span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Tasa de inflación intermensual"</span>) <span class="sc">+</span> </span>
<span id="cb6-14"><a href="#cb6-14"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust=</span><span class="dv">1</span>), <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>), <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb6-15"><a href="#cb6-15"></a></span>
<span id="cb6-16"><a href="#cb6-16"></a>plotly<span class="sc">::</span><span class="fu">ggplotly</span>(p9)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-5aebafffa80cee7cecce" style="width:95%;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-5aebafffa80cee7cecce">{"x":{"data":[{"orientation":"v","width":[0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.89999999999999947,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[3,4,5,6,10,9,8,7,11,13,12,15,14,16,17,22,21,20,19,18,24,23],"y":[9.8000000000000007,9.9000000000000004,10.1,10.199999999999999,10.300000000000001,10.300000000000001,10.300000000000001,10.300000000000001,10.4,10.5,10.5,10.6,10.6,10.800000000000001,11,11.1,11.1,11.1,11.1,11.1,11.199999999999999,11.199999999999999],"text":["reorder(Periodo, Variacion_mensual): 2010M10<br />Variacion_mensual:  9.8<br />Grupo: 03 Vestido y calzado","reorder(Periodo, Variacion_mensual): 2012M04<br />Variacion_mensual:  9.9<br />Grupo: 03 Vestido y calzado","reorder(Periodo, Variacion_mensual): 2013M04<br />Variacion_mensual: 10.1<br />Grupo: 03 Vestido y calzado","reorder(Periodo, Variacion_mensual): 2017M04<br />Variacion_mensual: 10.2<br />Grupo: 03 Vestido y calzado","reorder(Periodo, Variacion_mensual): 2021M04<br />Variacion_mensual: 10.3<br />Grupo: 03 Vestido y calzado","reorder(Periodo, Variacion_mensual): 2020M04<br />Variacion_mensual: 10.3<br />Grupo: 03 Vestido y calzado","reorder(Periodo, Variacion_mensual): 2018M04<br />Variacion_mensual: 10.3<br />Grupo: 03 Vestido y calzado","reorder(Periodo, Variacion_mensual): 2011M10<br />Variacion_mensual: 10.3<br />Grupo: 03 Vestido y calzado","reorder(Periodo, Variacion_mensual): 2014M04<br />Variacion_mensual: 10.4<br />Grupo: 03 Vestido y calzado","reorder(Periodo, Variacion_mensual): 2019M04<br />Variacion_mensual: 10.5<br />Grupo: 03 Vestido y calzado","reorder(Periodo, Variacion_mensual): 2012M10<br />Variacion_mensual: 10.5<br />Grupo: 03 Vestido y calzado","reorder(Periodo, Variacion_mensual): 2016M04<br />Variacion_mensual: 10.6<br />Grupo: 03 Vestido y calzado","reorder(Periodo, Variacion_mensual): 2015M04<br />Variacion_mensual: 10.6<br />Grupo: 03 Vestido y calzado","reorder(Periodo, Variacion_mensual): 2013M10<br />Variacion_mensual: 10.8<br />Grupo: 03 Vestido y calzado","reorder(Periodo, Variacion_mensual): 2014M10<br />Variacion_mensual: 11.0<br />Grupo: 03 Vestido y calzado","reorder(Periodo, Variacion_mensual): 2021M10<br />Variacion_mensual: 11.1<br />Grupo: 03 Vestido y calzado","reorder(Periodo, Variacion_mensual): 2020M10<br />Variacion_mensual: 11.1<br />Grupo: 03 Vestido y calzado","reorder(Periodo, Variacion_mensual): 2018M10<br />Variacion_mensual: 11.1<br />Grupo: 03 Vestido y calzado","reorder(Periodo, Variacion_mensual): 2017M10<br />Variacion_mensual: 11.1<br />Grupo: 03 Vestido y calzado","reorder(Periodo, Variacion_mensual): 2015M10<br />Variacion_mensual: 11.1<br />Grupo: 03 Vestido y calzado","reorder(Periodo, Variacion_mensual): 2019M10<br />Variacion_mensual: 11.2<br />Grupo: 03 Vestido y calzado","reorder(Periodo, Variacion_mensual): 2016M10<br />Variacion_mensual: 11.2<br />Grupo: 03 Vestido y calzado"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"03 Vestido y calzado","legendgroup":"03 Vestido y calzado","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000013,"base":0,"x":[2],"y":[9.6999999999999993],"text":"reorder(Periodo, Variacion_mensual): 2022M03<br />Variacion_mensual:  9.7<br />Grupo: 04 Vivienda, agua, electricidad, gas y otros combustibles","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"04 Vivienda, agua, electricidad, gas y otros combustibles","legendgroup":"04 Vivienda, agua, electricidad, gas y otros combustibles","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999991,"base":0,"x":[1],"y":[9.6999999999999993],"text":"reorder(Periodo, Variacion_mensual): 2012M07<br />Variacion_mensual:  9.7<br />Grupo: 06 Sanidad","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"06 Sanidad","legendgroup":"06 Sanidad","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":97.317102081347258,"r":62.719999999999992,"b":129.47797179125695,"l":96.268997563790947},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(234,242,243,1)","font":{"color":"rgba(0,0,0,1)","family":"sans","size":14.611872146118724},"title":{"text":"<b> Mayores variaciones mensuales por sector y año <\/b>","font":{"color":"rgba(30,45,83,1)","family":"sans","size":18.597102081347259},"x":0.5,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,24.600000000000001],"tickmode":"array","ticktext":["2012M07","2022M03","2010M10","2012M04","2013M04","2017M04","2011M10","2018M04","2020M04","2021M04","2014M04","2012M10","2019M04","2015M04","2016M04","2013M10","2014M10","2015M10","2017M10","2018M10","2020M10","2021M10","2016M10","2019M10"],"tickvals":[1,2.0000000000000004,3,3.9999999999999996,5,6,7.0000000000000009,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],"categoryorder":"array","categoryarray":["2012M07","2022M03","2010M10","2012M04","2013M04","2017M04","2011M10","2018M04","2020M04","2021M04","2014M04","2012M10","2019M04","2015M04","2016M04","2013M10","2014M10","2015M10","2017M10","2018M10","2020M10","2021M10","2016M10","2019M10"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":6.9818181818181806,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"sans","size":13.283589690986393},"tickangle":-90,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Año","font":{"color":"rgba(0,0,0,1)","family":"sans","size":13.283589690986393}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.55999999999999994,11.76],"tickmode":"array","ticktext":["0","3","6","9"],"tickvals":[0,3,6,9],"categoryorder":"array","categoryarray":["0","3","6","9"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":6.9818181818181806,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"sans","size":13.283589690986393},"tickangle":-90,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":true,"gridcolor":"rgba(234,242,243,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Tasa de inflación intermensual","font":{"color":"rgba(0,0,0,1)","family":"sans","size":13.283589690986393}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"rgba(0,0,0,1)","borderwidth":1.2598425196850394,"font":{"color":"rgba(0,0,0,1)","family":"sans","size":13.283589690986393},"title":{"text":"Grupo","font":{"color":"rgba(30,45,83,1)","family":"sans","size":18.597102081347259}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"228c60ce479f":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"228c60ce479f","visdat":{"228c60ce479f":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>A simple vista queda claro que el bien o servicio que más sube de precio en determinados momentos es el vestido y el calzado, ocupando las 22 primeras posiciones. Sin embargo, no perdamos de vista que éstas son subidas de precios estacionales que poco tienen que ver con ciclos inflacionistas. Si observamos en qué meses ocurren estas subidas de precios del vestido y calzado veremos que son siempre en abril y en octubre, justo con el cambio de temporada hacia el verano o hacia el invierno.</p>
<p>Es en la posición vigésimo tercera donde encontramos algún dato que provenga del ciclo inflacionista reciente. Este es de marzo de 2022 y contiene la variación de la vivienda, agua, electricidad, gas y otros combustibles. Para ver si encontramos datos más interesantes, y que no tengan tanto que ver con picos de demanda estacional tenemos el siguiente gráfico.</p>
<div class="cell" data-layout-align="center">
<details open=""><summary>Código</summary><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>df10 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="fu">filter</span>(Dato <span class="sc">==</span> <span class="st">"Variación mensual"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="fu">filter</span>(<span class="sc">!</span>Grupo <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"03 Vestido y calzado"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">Variacion_mensual =</span> value) <span class="sc">%&gt;%</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="fu">slice_max</span>(<span class="at">n =</span> <span class="dv">24</span>, <span class="at">order_by =</span> Variacion_mensual) <span class="sc">%&gt;%</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>  <span class="fu">select</span>(<span class="sc">-</span>X) <span class="sc">%&gt;%</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>  <span class="fu">arrange</span>(Variacion_mensual)</span>
<span id="cb7-8"><a href="#cb7-8"></a></span>
<span id="cb7-9"><a href="#cb7-9"></a>p10 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> df10,</span>
<span id="cb7-10"><a href="#cb7-10"></a>              <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(Periodo, Variacion_mensual), <span class="at">y =</span> Variacion_mensual, <span class="at">fill =</span> Grupo)) <span class="sc">+</span></span>
<span id="cb7-11"><a href="#cb7-11"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.9</span>)) <span class="sc">+</span></span>
<span id="cb7-12"><a href="#cb7-12"></a>  <span class="fu">theme_stata</span>() <span class="sc">+</span></span>
<span id="cb7-13"><a href="#cb7-13"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Mayores variaciones mensuales por sector y año"</span>, </span>
<span id="cb7-14"><a href="#cb7-14"></a>       <span class="at">caption =</span> <span class="st">"Elaboración propia a partir de datos extraídos del INE"</span>, </span>
<span id="cb7-15"><a href="#cb7-15"></a>       <span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Tasa de inflación intermensual"</span>) <span class="sc">+</span> </span>
<span id="cb7-16"><a href="#cb7-16"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust=</span><span class="dv">1</span>), </span>
<span id="cb7-17"><a href="#cb7-17"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>), </span>
<span id="cb7-18"><a href="#cb7-18"></a>        <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb7-19"><a href="#cb7-19"></a></span>
<span id="cb7-20"><a href="#cb7-20"></a>plotly<span class="sc">::</span><span class="fu">ggplotly</span>(p10)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-e0fd710fe5616920c7d4" style="width:95%;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-e0fd710fe5616920c7d4">{"x":{"data":[{"orientation":"v","width":0.90000000000000013,"base":0,"x":[2],"y":[3.3999999999999999],"text":"reorder(Periodo, Variacion_mensual): 2022M04<br />Variacion_mensual: 3.4<br />Grupo: 01 Alimentos y bebidas no alcohólicas","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"01 Alimentos y bebidas no alcohólicas","legendgroup":"01 Alimentos y bebidas no alcohólicas","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000036,0.89999999999999858,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0,0,0,0,0,0,0,0,0],"x":[3,9,8,12,11,16,15,17,18],"y":[3.5,4.0999999999999996,4.0999999999999996,4.2999999999999998,4.2999999999999998,5,5,5.5999999999999996,6.0999999999999996],"text":["reorder(Periodo, Variacion_mensual): 2011M09<br />Variacion_mensual: 3.5<br />Grupo: 02 Bebidas alcohólicas y tabaco","reorder(Periodo, Variacion_mensual): 2004M05<br />Variacion_mensual: 4.1<br />Grupo: 02 Bebidas alcohólicas y tabaco","reorder(Periodo, Variacion_mensual): 2002M04<br />Variacion_mensual: 4.1<br />Grupo: 02 Bebidas alcohólicas y tabaco","reorder(Periodo, Variacion_mensual): 2009M07<br />Variacion_mensual: 4.3<br />Grupo: 02 Bebidas alcohólicas y tabaco","reorder(Periodo, Variacion_mensual): 2009M06<br />Variacion_mensual: 4.3<br />Grupo: 02 Bebidas alcohólicas y tabaco","reorder(Periodo, Variacion_mensual): 2010M06<br />Variacion_mensual: 5.0<br />Grupo: 02 Bebidas alcohólicas y tabaco","reorder(Periodo, Variacion_mensual): 2007M01<br />Variacion_mensual: 5.0<br />Grupo: 02 Bebidas alcohólicas y tabaco","reorder(Periodo, Variacion_mensual): 2006M03<br />Variacion_mensual: 5.6<br />Grupo: 02 Bebidas alcohólicas y tabaco","reorder(Periodo, Variacion_mensual): 2010M12<br />Variacion_mensual: 6.1<br />Grupo: 02 Bebidas alcohólicas y tabaco"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"02 Bebidas alcohólicas y tabaco","legendgroup":"02 Bebidas alcohólicas y tabaco","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.44999999999999929,0.89999999999999991,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.45000000000000284],"base":[0,0,0,0,0,0,0,0],"x":[9.7750000000000004,1,4,5,7,13,19,19.774999999999999],"y":[3.3999999999999999,3.3999999999999999,3.5,3.6000000000000001,4,4.2999999999999998,6.5,9.6999999999999993],"text":["reorder(Periodo, Variacion_mensual): 2022M06<br />Variacion_mensual: 3.4<br />Grupo: 04 Vivienda, agua, electricidad, gas y otros combustibles","reorder(Periodo, Variacion_mensual): 2021M04<br />Variacion_mensual: 3.4<br />Grupo: 04 Vivienda, agua, electricidad, gas y otros combustibles","reorder(Periodo, Variacion_mensual): 2021M09<br />Variacion_mensual: 3.5<br />Grupo: 04 Vivienda, agua, electricidad, gas y otros combustibles","reorder(Periodo, Variacion_mensual): 2022M08<br />Variacion_mensual: 3.6<br />Grupo: 04 Vivienda, agua, electricidad, gas y otros combustibles","reorder(Periodo, Variacion_mensual): 2021M10<br />Variacion_mensual: 4.0<br />Grupo: 04 Vivienda, agua, electricidad, gas y otros combustibles","reorder(Periodo, Variacion_mensual): 2021M01<br />Variacion_mensual: 4.3<br />Grupo: 04 Vivienda, agua, electricidad, gas y otros combustibles","reorder(Periodo, Variacion_mensual): 2021M12<br />Variacion_mensual: 6.5<br />Grupo: 04 Vivienda, agua, electricidad, gas y otros combustibles","reorder(Periodo, Variacion_mensual): 2022M03<br />Variacion_mensual: 9.7<br />Grupo: 04 Vivienda, agua, electricidad, gas y otros combustibles"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"04 Vivienda, agua, electricidad, gas y otros combustibles","legendgroup":"04 Vivienda, agua, electricidad, gas y otros combustibles","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000036,0.89999999999999858],"base":[0,0],"x":[6,22],"y":[4,9.6999999999999993],"text":["reorder(Periodo, Variacion_mensual): 2012M09<br />Variacion_mensual: 4.0<br />Grupo: 06 Sanidad","reorder(Periodo, Variacion_mensual): 2012M07<br />Variacion_mensual: 9.7<br />Grupo: 06 Sanidad"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"06 Sanidad","legendgroup":"06 Sanidad","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.44999999999999929,0.44999999999999929,0.45000000000000284],"base":[0,0,0],"x":[13.775,10.225,20.225000000000001],"y":[4.0999999999999996,4.9000000000000004,7.0999999999999996],"text":["reorder(Periodo, Variacion_mensual): 2023M01<br />Variacion_mensual: 4.1<br />Grupo: 07 Transporte","reorder(Periodo, Variacion_mensual): 2022M06<br />Variacion_mensual: 4.9<br />Grupo: 07 Transporte","reorder(Periodo, Variacion_mensual): 2022M03<br />Variacion_mensual: 7.1<br />Grupo: 07 Transporte"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"07 Transporte","legendgroup":"07 Transporte","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.44999999999999929,"base":0,"x":[14.225],"y":[4.5],"text":"reorder(Periodo, Variacion_mensual): 2023M01<br />Variacion_mensual: 4.5<br />Grupo: 08 Comunicaciones","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"08 Comunicaciones","legendgroup":"08 Comunicaciones","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[21],"y":[9.1999999999999993],"text":"reorder(Periodo, Variacion_mensual): 2012M10<br />Variacion_mensual: 9.2<br />Grupo: 10 Enseñanza","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"10 Enseñanza","legendgroup":"10 Enseñanza","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":97.317102081347258,"r":62.719999999999992,"b":129.47797179125695,"l":96.268997563790947},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(234,242,243,1)","font":{"color":"rgba(0,0,0,1)","family":"sans","size":14.611872146118724},"title":{"text":"<b> Mayores variaciones mensuales por sector y año <\/b>","font":{"color":"rgba(30,45,83,1)","family":"sans","size":18.597102081347259},"x":0.5,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,22.600000000000001],"tickmode":"array","ticktext":["2021M04","2022M04","2011M09","2021M09","2022M08","2012M09","2021M10","2002M04","2004M05","2022M06","2009M06","2009M07","2021M01","2023M01","2007M01","2010M06","2006M03","2010M12","2021M12","2022M03","2012M10","2012M07"],"tickvals":[1,2,3,4,5,6.0000000000000009,7,8,9,10,11,12,12.999999999999998,14.000000000000002,15.000000000000002,16,17,18,19,20,21,22],"categoryorder":"array","categoryarray":["2021M04","2022M04","2011M09","2021M09","2022M08","2012M09","2021M10","2002M04","2004M05","2022M06","2009M06","2009M07","2021M01","2023M01","2007M01","2010M06","2006M03","2010M12","2021M12","2022M03","2012M10","2012M07"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":6.9818181818181806,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"sans","size":13.283589690986393},"tickangle":-90,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Año","font":{"color":"rgba(0,0,0,1)","family":"sans","size":13.283589690986393}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.48499999999999999,10.184999999999999],"tickmode":"array","ticktext":["0.0","2.5","5.0","7.5","10.0"],"tickvals":[0,2.5,5,7.4999999999999991,10],"categoryorder":"array","categoryarray":["0.0","2.5","5.0","7.5","10.0"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":6.9818181818181806,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"sans","size":13.283589690986393},"tickangle":-90,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176002,"showgrid":true,"gridcolor":"rgba(234,242,243,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Tasa de inflación intermensual","font":{"color":"rgba(0,0,0,1)","family":"sans","size":13.283589690986393}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"rgba(0,0,0,1)","borderwidth":1.2598425196850394,"font":{"color":"rgba(0,0,0,1)","family":"sans","size":13.283589690986393},"title":{"text":"Grupo","font":{"color":"rgba(30,45,83,1)","family":"sans","size":18.597102081347259}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"228c5d3b857":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"228c5d3b857","visdat":{"228c5d3b857":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>En este gráfico, ya sin vestido y calzado podemos observar tasas elevadas de sectores muy diversos. Se hace difícil encontrar patrones; aunque sí hay mese pertenecientes al reciente ciclo inflacionista, parece que la mayor parte de tasas se deben a sucesos puntuales.</p>
</section><section id="conclusión" class="level2"><h2 class="anchored" data-anchor-id="conclusión">Conclusión</h2>
<p>Con esto llegamos al final del trabajo. Elaborarlo ha sido una experienia muy enriquecedora, así como cursar esta asignatura en general. Respecto a su contenido, esperamos que haya resultado ilustrativo para el lector y que le sirva para tener una perspectiva amplia de cómo se ha comportado la inflación en nuestro país en las últimas dos décadas.</p>


<!-- -->

</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiada");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Correr el código</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb8" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb8-1"><a href="#cb8-1"></a><span class="co">---</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="an">title:</span><span class="co"> "Un vistazo a la inflación en España de las últimas dos décadas"</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="an">description:</span><span class="co"> "Una perpectiva amplia del comportamiento de la  inflación"</span></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="an">author:</span></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="co">  - name: Pedro Peñalver Cañigueral</span></span>
<span id="cb8-6"><a href="#cb8-6"></a><span class="co">    affiliation: Universitat de València</span></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="co">    affiliation-url: https://www.uv.es</span></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="an">date:</span><span class="co"> 2024-01-25                      </span></span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="an">categories:</span><span class="co"> [trabajo BigData, Inflación]   #--</span></span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="an">image:</span><span class="co"> "./imagenes/batman_logo.png"</span></span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="an">title-block-banner:</span><span class="co"> true #- {true, false, "green","#AA0000"}</span></span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="an">title-block-banner-color:</span><span class="co"> "FFFF00" </span></span>
<span id="cb8-13"><a href="#cb8-13"></a><span class="an">toc-depth:</span><span class="co"> 3</span></span>
<span id="cb8-14"><a href="#cb8-14"></a><span class="an">smooth-scroll:</span><span class="co"> true</span></span>
<span id="cb8-15"><a href="#cb8-15"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="co">  html:</span></span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="co">    #backgroundcolor: "#FFFF00"</span></span>
<span id="cb8-18"><a href="#cb8-18"></a><span class="co">    #embed-resources: true</span></span>
<span id="cb8-19"><a href="#cb8-19"></a><span class="co">    link-external-newwindow: true</span></span>
<span id="cb8-20"><a href="#cb8-20"></a><span class="co">    #css: ./assets/my_css_file.css   #- CUIDADO!!!!</span></span>
<span id="cb8-21"><a href="#cb8-21"></a><span class="an">code-tools:</span><span class="co"> true</span></span>
<span id="cb8-22"><a href="#cb8-22"></a><span class="an">code-link:</span><span class="co"> true</span></span>
<span id="cb8-23"><a href="#cb8-23"></a><span class="co">---</span></span>
<span id="cb8-24"><a href="#cb8-24"></a></span>
<span id="cb8-25"><a href="#cb8-25"></a><span class="fu">## Paquetes y datos</span></span>
<span id="cb8-26"><a href="#cb8-26"></a></span>
<span id="cb8-27"><a href="#cb8-27"></a>Vamos a utilizar los datos del paquete <span class="in">`pxR`</span>, para poder cargar los datos del INE que necesitamos en el trabajo. Primeramente, instalamos los paquetes necesarios y cargamos las librerías. A continuación, descargamos los dicheros de datos.</span>
<span id="cb8-28"><a href="#cb8-28"></a></span>
<span id="cb8-31"><a href="#cb8-31"></a><span class="in">```{r}</span></span>
<span id="cb8-32"><a href="#cb8-32"></a><span class="co">#remotes::install_github("perezp44/pjpv.curso.R.2022")</span></span>
<span id="cb8-33"><a href="#cb8-33"></a><span class="co">#install.packages("pxR")</span></span>
<span id="cb8-34"><a href="#cb8-34"></a><span class="co">#install.packages("downloader")</span></span>
<span id="cb8-35"><a href="#cb8-35"></a><span class="co">#install.packages("readxl")</span></span>
<span id="cb8-36"><a href="#cb8-36"></a><span class="co">#install.packages("mapSpain")</span></span>
<span id="cb8-37"><a href="#cb8-37"></a><span class="co">#install.packages("kableExtra")</span></span>
<span id="cb8-38"><a href="#cb8-38"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb8-39"><a href="#cb8-39"></a><span class="fu">library</span>(mapSpain)</span>
<span id="cb8-40"><a href="#cb8-40"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb8-41"><a href="#cb8-41"></a><span class="fu">library</span>(data.table)</span>
<span id="cb8-42"><a href="#cb8-42"></a><span class="fu">library</span>(rlist)</span>
<span id="cb8-43"><a href="#cb8-43"></a><span class="fu">library</span>(fs)</span>
<span id="cb8-44"><a href="#cb8-44"></a><span class="fu">library</span>(curl)</span>
<span id="cb8-45"><a href="#cb8-45"></a><span class="fu">library</span>(rio)</span>
<span id="cb8-46"><a href="#cb8-46"></a><span class="fu">library</span>(readxl)</span>
<span id="cb8-47"><a href="#cb8-47"></a><span class="fu">library</span>(downloader)</span>
<span id="cb8-48"><a href="#cb8-48"></a><span class="fu">library</span>(writexl)</span>
<span id="cb8-49"><a href="#cb8-49"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb8-50"><a href="#cb8-50"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb8-51"><a href="#cb8-51"></a><span class="fu">library</span>(ggExtra)</span>
<span id="cb8-52"><a href="#cb8-52"></a><span class="fu">library</span>(pxR)</span>
<span id="cb8-53"><a href="#cb8-53"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb8-54"><a href="#cb8-54"></a></span>
<span id="cb8-55"><a href="#cb8-55"></a></span>
<span id="cb8-56"><a href="#cb8-56"></a><span class="co">#Descargamos el primer fichero de datos, que contiene los datos a nivel nacional</span></span>
<span id="cb8-57"><a href="#cb8-57"></a>url <span class="ot">&lt;-</span> <span class="st">"https://www.ine.es/jaxiT3/files/t/es/px/50902.px?nocab=1"</span></span>
<span id="cb8-58"><a href="#cb8-58"></a>aa <span class="ot">&lt;-</span> <span class="fu">read.px</span>(url)</span>
<span id="cb8-59"><a href="#cb8-59"></a></span>
<span id="cb8-60"><a href="#cb8-60"></a><span class="co">#Lo convertimos a CSV para simplificar y creamos un dataframe</span></span>
<span id="cb8-61"><a href="#cb8-61"></a></span>
<span id="cb8-62"><a href="#cb8-62"></a><span class="fu">write.csv</span>(aa, <span class="at">file =</span> <span class="st">"data.csv"</span>)</span>
<span id="cb8-63"><a href="#cb8-63"></a>IPV <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data.csv"</span>)</span>
<span id="cb8-64"><a href="#cb8-64"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>()[<span class="sc">!</span><span class="fu">ls</span>() <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"IPV"</span>)])</span>
<span id="cb8-65"><a href="#cb8-65"></a></span>
<span id="cb8-66"><a href="#cb8-66"></a><span class="fu">dir_create</span>(<span class="st">"datos"</span>)</span>
<span id="cb8-67"><a href="#cb8-67"></a></span>
<span id="cb8-68"><a href="#cb8-68"></a><span class="co">#Los guardamos sin arreglar</span></span>
<span id="cb8-69"><a href="#cb8-69"></a><span class="fu">write.csv</span>(IPV,  <span class="at">file =</span> <span class="st">"./datos/ipv.csv"</span>)</span>
<span id="cb8-70"><a href="#cb8-70"></a></span>
<span id="cb8-71"><a href="#cb8-71"></a></span>
<span id="cb8-72"><a href="#cb8-72"></a></span>
<span id="cb8-73"><a href="#cb8-73"></a><span class="co">#Este segundo archivo contiene los datos a nivel autonómico</span></span>
<span id="cb8-74"><a href="#cb8-74"></a>url2 <span class="ot">&lt;-</span> <span class="st">"https://www.ine.es/jaxiT3/files/t/es/px/50913.px?nocab=1"</span></span>
<span id="cb8-75"><a href="#cb8-75"></a>ab <span class="ot">&lt;-</span> <span class="fu">read.px</span>(url2)</span>
<span id="cb8-76"><a href="#cb8-76"></a></span>
<span id="cb8-77"><a href="#cb8-77"></a><span class="co">#Lo convertimos a CSV para simplificar y creamos un dataframe</span></span>
<span id="cb8-78"><a href="#cb8-78"></a></span>
<span id="cb8-79"><a href="#cb8-79"></a><span class="fu">write.csv</span>(ab, <span class="at">file =</span> <span class="st">"dataCCAA.zip"</span>)</span>
<span id="cb8-80"><a href="#cb8-80"></a>CCAA <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"dataCCAA.zip"</span>)</span>
<span id="cb8-81"><a href="#cb8-81"></a></span>
<span id="cb8-82"><a href="#cb8-82"></a><span class="co">#Los guardamos sin arreglar</span></span>
<span id="cb8-83"><a href="#cb8-83"></a><span class="fu">write.csv</span>(CCAA,  <span class="at">file =</span> <span class="st">"./datos/dataCCAA.zip"</span>)</span>
<span id="cb8-84"><a href="#cb8-84"></a></span>
<span id="cb8-85"><a href="#cb8-85"></a><span class="co"># Para que ab sea un dataframe y no una lista:</span></span>
<span id="cb8-86"><a href="#cb8-86"></a>df_ab <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(ab<span class="sc">$</span>DATA<span class="sc">$</span>value)</span>
<span id="cb8-87"><a href="#cb8-87"></a><span class="in">```</span></span>
<span id="cb8-88"><a href="#cb8-88"></a></span>
<span id="cb8-89"><a href="#cb8-89"></a><span class="fu">## Índice de precios</span></span>
<span id="cb8-90"><a href="#cb8-90"></a></span>
<span id="cb8-91"><a href="#cb8-91"></a>En el primer gráfico tenemos el índice del nivel de precios desde el año 2002 hasta la actualidad. Este índice es equivalente a la inflación acumulada. Pues lo que hace es acumular las tasas de crecimiento mensuales.</span>
<span id="cb8-92"><a href="#cb8-92"></a></span>
<span id="cb8-95"><a href="#cb8-95"></a><span class="in">```{r}</span></span>
<span id="cb8-96"><a href="#cb8-96"></a>df <span class="ot">&lt;-</span> IPV <span class="sc">%&gt;%</span> </span>
<span id="cb8-97"><a href="#cb8-97"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">Grupo =</span> Grupos.ECOICOP, <span class="at">Dato =</span> Tipo.de.dato)</span>
<span id="cb8-98"><a href="#cb8-98"></a></span>
<span id="cb8-99"><a href="#cb8-99"></a>dff <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb8-100"><a href="#cb8-100"></a>  <span class="fu">filter</span> (Grupo <span class="sc">==</span> <span class="st">"Índice general"</span>, Dato <span class="sc">==</span> <span class="st">"Índice"</span>)</span>
<span id="cb8-101"><a href="#cb8-101"></a></span>
<span id="cb8-102"><a href="#cb8-102"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(dff, <span class="fu">aes</span>(<span class="at">x =</span> Periodo, <span class="at">y =</span> value, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb8-103"><a href="#cb8-103"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="fl">1.08</span>) <span class="sc">+</span></span>
<span id="cb8-104"><a href="#cb8-104"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">breaks =</span> dff<span class="sc">$</span>Periodo[<span class="fu">substr</span>(dff<span class="sc">$</span>Periodo, <span class="dv">6</span>, <span class="dv">7</span>) <span class="sc">==</span> <span class="st">"01"</span>], <span class="at">labels =</span> <span class="cf">function</span>(x) <span class="fu">substr</span>(x, <span class="dv">1</span>, <span class="dv">4</span>)) <span class="sc">+</span> </span>
<span id="cb8-105"><a href="#cb8-105"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb8-106"><a href="#cb8-106"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Índice"</span>, <span class="at">title =</span> <span class="st">"Índice nivel de precios (Base100 = 2021)"</span>) <span class="sc">+</span></span>
<span id="cb8-107"><a href="#cb8-107"></a>  <span class="fu">theme_stata</span>() <span class="sc">+</span> <span class="fu">rotateTextX</span>()</span>
<span id="cb8-108"><a href="#cb8-108"></a></span>
<span id="cb8-109"><a href="#cb8-109"></a><span class="co">#Utilizamos plotly para hacer el gráfico interactivo</span></span>
<span id="cb8-110"><a href="#cb8-110"></a>plotly<span class="sc">::</span><span class="fu">ggplotly</span>(p)</span>
<span id="cb8-111"><a href="#cb8-111"></a><span class="in">```</span></span>
<span id="cb8-112"><a href="#cb8-112"></a></span>
<span id="cb8-113"><a href="#cb8-113"></a>Como podemos observar, la inflación evoluciona de manera más o menos uniforme desde el inicio del gráfico hasta el año 2021 con algunos periodos de estancamiento (2013-2016 y 2020-2021). Estos periodos no son especialmente extraños, ya que a nivel europeo se han reproducido situaciones similares. Cabe mencionar cómo en prácticamente todos los años repiten un patrón de crecimiento de los precios hasta mitad de año, para luego decrecer ligeramente y volver a crecer hasta final de año. Inferimos que esto se debe a la bajada de la actividad económica que tiene lugar en verano todos los años.</span>
<span id="cb8-114"><a href="#cb8-114"></a></span>
<span id="cb8-115"><a href="#cb8-115"></a>Lo más destacable es sin duda el crecimiento que tiene lugar desde el año 2021 hasta el final del 2023, el cual es mucho mayor al del resto de la serie histórica. Como sabemos, en este periodo la mayoría de las economías occidentales ha experimentado elevadas tasas de inflación, por lo que no es un fenómeno exclusivo de España.</span>
<span id="cb8-116"><a href="#cb8-116"></a></span>
<span id="cb8-117"><a href="#cb8-117"></a></span>
<span id="cb8-118"><a href="#cb8-118"></a><span class="fu">## Mapa de comunidades autónomas</span></span>
<span id="cb8-119"><a href="#cb8-119"></a></span>
<span id="cb8-120"><a href="#cb8-120"></a>Bueno pues vamos a hacer algún gráfico, pero claro antes he de cargar los paquetes</span>
<span id="cb8-121"><a href="#cb8-121"></a></span>
<span id="cb8-124"><a href="#cb8-124"></a><span class="in">```{r}</span></span>
<span id="cb8-125"><a href="#cb8-125"></a>df_ab <span class="ot">&lt;-</span> df_ab <span class="sc">%&gt;%</span> </span>
<span id="cb8-126"><a href="#cb8-126"></a>dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">CCAA =</span> Comunidades.y.Ciudades.Autónomas, <span class="at">Datos =</span> Tipo.de.dato, <span class="at">Grupo =</span> Grupos.ECOICOP)</span>
<span id="cb8-127"><a href="#cb8-127"></a></span>
<span id="cb8-128"><a href="#cb8-128"></a></span>
<span id="cb8-129"><a href="#cb8-129"></a>prov <span class="ot">&lt;-</span> pjpv.curso.R<span class="fl">.2022</span><span class="sc">::</span>LAU2_prov_2020_canarias</span>
<span id="cb8-130"><a href="#cb8-130"></a></span>
<span id="cb8-131"><a href="#cb8-131"></a>ccaa <span class="ot">&lt;-</span> prov <span class="sc">%&gt;%</span> </span>
<span id="cb8-132"><a href="#cb8-132"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(ine_ccaa, ine_ccaa.n, ine_ccaa.n.pjp) <span class="sc">%&gt;%</span> </span>
<span id="cb8-133"><a href="#cb8-133"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>() <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">ungroup</span>()</span>
<span id="cb8-134"><a href="#cb8-134"></a></span>
<span id="cb8-135"><a href="#cb8-135"></a></span>
<span id="cb8-136"><a href="#cb8-136"></a>ccaa <span class="ot">&lt;-</span> ccaa <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">CCAA =</span> ine_ccaa.n) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span>CCAA <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Ceuta"</span>, <span class="st">"Melilla"</span>))</span>
<span id="cb8-137"><a href="#cb8-137"></a></span>
<span id="cb8-138"><a href="#cb8-138"></a>df_CCAA <span class="ot">&lt;-</span> df_ab <span class="sc">%&gt;%</span></span>
<span id="cb8-139"><a href="#cb8-139"></a>  <span class="fu">filter</span>(<span class="sc">!</span>CCAA <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Nacional"</span>, <span class="st">"18 Ceuta"</span>, <span class="st">"19 Melilla"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb8-140"><a href="#cb8-140"></a>  <span class="fu">filter</span>(Grupo <span class="sc">==</span> <span class="st">"Índice general"</span>, Datos <span class="sc">==</span> <span class="st">"Índice"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-141"><a href="#cb8-141"></a>  <span class="fu">filter</span>(Periodo <span class="sc">==</span> <span class="st">"2023M12"</span>)</span>
<span id="cb8-142"><a href="#cb8-142"></a></span>
<span id="cb8-143"><a href="#cb8-143"></a>df_CCAA <span class="ot">&lt;-</span> df_CCAA <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">CCAA =</span> <span class="fu">case_when</span>( </span>
<span id="cb8-144"><a href="#cb8-144"></a>  CCAA <span class="sc">==</span> <span class="st">"01 Andalucía"</span> <span class="sc">~</span> <span class="st">"Andalucía"</span>,</span>
<span id="cb8-145"><a href="#cb8-145"></a>  CCAA <span class="sc">==</span> <span class="st">"02 Aragón"</span> <span class="sc">~</span> <span class="st">"Aragón"</span>,</span>
<span id="cb8-146"><a href="#cb8-146"></a>  CCAA <span class="sc">==</span> <span class="st">"03 Asturias, Principado de"</span> <span class="sc">~</span> <span class="st">"Asturias, Principado de"</span>,</span>
<span id="cb8-147"><a href="#cb8-147"></a>  CCAA <span class="sc">==</span> <span class="st">"04 Balears, Illes"</span> <span class="sc">~</span> <span class="st">"Balears, Illes"</span>,</span>
<span id="cb8-148"><a href="#cb8-148"></a>  CCAA <span class="sc">==</span> <span class="st">"05 Canarias"</span> <span class="sc">~</span> <span class="st">"Canarias"</span>,</span>
<span id="cb8-149"><a href="#cb8-149"></a>  CCAA <span class="sc">==</span> <span class="st">"06 Cantabria"</span> <span class="sc">~</span> <span class="st">"Cantabria"</span>,</span>
<span id="cb8-150"><a href="#cb8-150"></a>  CCAA <span class="sc">==</span> <span class="st">"07 Castilla y León"</span> <span class="sc">~</span> <span class="st">"Castilla y León"</span>,</span>
<span id="cb8-151"><a href="#cb8-151"></a>  CCAA <span class="sc">==</span> <span class="st">"08 Castilla - La Mancha"</span> <span class="sc">~</span> <span class="st">"Castilla-La Mancha"</span>,</span>
<span id="cb8-152"><a href="#cb8-152"></a>  CCAA <span class="sc">==</span> <span class="st">"09 Cataluña"</span> <span class="sc">~</span> <span class="st">"Cataluña"</span>,</span>
<span id="cb8-153"><a href="#cb8-153"></a>  CCAA <span class="sc">==</span> <span class="st">"10 Comunitat Valenciana"</span> <span class="sc">~</span> <span class="st">"Comunitat Valenciana"</span>,</span>
<span id="cb8-154"><a href="#cb8-154"></a>  CCAA <span class="sc">==</span> <span class="st">"11 Extremadura"</span> <span class="sc">~</span> <span class="st">"Extremadura"</span>,</span>
<span id="cb8-155"><a href="#cb8-155"></a>  CCAA <span class="sc">==</span> <span class="st">"12 Galicia"</span> <span class="sc">~</span> <span class="st">"Galicia"</span>,</span>
<span id="cb8-156"><a href="#cb8-156"></a>  CCAA <span class="sc">==</span> <span class="st">"13 Madrid, Comunidad de"</span> <span class="sc">~</span> <span class="st">"Madrid, Comunidad de"</span>,</span>
<span id="cb8-157"><a href="#cb8-157"></a>  CCAA <span class="sc">==</span> <span class="st">"14 Murcia, Región de"</span> <span class="sc">~</span> <span class="st">"Murcia, Región de"</span>,</span>
<span id="cb8-158"><a href="#cb8-158"></a>  CCAA <span class="sc">==</span> <span class="st">"15 Navarra, Comunidad Foral de"</span> <span class="sc">~</span> <span class="st">"Navarra, Comunidad Foral de"</span>,</span>
<span id="cb8-159"><a href="#cb8-159"></a>  CCAA <span class="sc">==</span> <span class="st">"16 País Vasco"</span> <span class="sc">~</span> <span class="st">"País Vasco"</span>,</span>
<span id="cb8-160"><a href="#cb8-160"></a>  CCAA <span class="sc">==</span> <span class="st">"17 Rioja, La"</span> <span class="sc">~</span> <span class="st">"Rioja, La"</span>, </span>
<span id="cb8-161"><a href="#cb8-161"></a>  <span class="cn">TRUE</span> <span class="sc">~</span> CCAA)) <span class="sc">%&gt;%</span></span>
<span id="cb8-162"><a href="#cb8-162"></a>  <span class="fu">filter</span>(<span class="sc">!</span>CCAA <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Nacional"</span>, <span class="st">"18 Ceuta"</span>, <span class="st">"19 Melilla"</span>))</span>
<span id="cb8-163"><a href="#cb8-163"></a></span>
<span id="cb8-164"><a href="#cb8-164"></a></span>
<span id="cb8-165"><a href="#cb8-165"></a></span>
<span id="cb8-166"><a href="#cb8-166"></a>conjunto <span class="ot">&lt;-</span> <span class="fu">full_join</span>(ccaa, df_CCAA, <span class="at">by =</span> <span class="st">"CCAA"</span>)</span>
<span id="cb8-167"><a href="#cb8-167"></a></span>
<span id="cb8-168"><a href="#cb8-168"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb8-169"><a href="#cb8-169"></a>escala_limites <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">110</span>, <span class="dv">118</span>)</span>
<span id="cb8-170"><a href="#cb8-170"></a></span>
<span id="cb8-171"><a href="#cb8-171"></a>p4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(conjunto, <span class="fu">aes</span>(<span class="at">fill =</span> value)) <span class="sc">+</span></span>
<span id="cb8-172"><a href="#cb8-172"></a>  <span class="fu">geom_sf</span>() <span class="sc">+</span></span>
<span id="cb8-173"><a href="#cb8-173"></a>  <span class="fu">geom_sf_label</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">as.character</span>(value)), <span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb8-174"><a href="#cb8-174"></a>  <span class="fu">scale_fill_gradient</span>(</span>
<span id="cb8-175"><a href="#cb8-175"></a>    <span class="at">guide =</span> <span class="st">"legend"</span>,</span>
<span id="cb8-176"><a href="#cb8-176"></a>    <span class="at">limits =</span> escala_limites,</span>
<span id="cb8-177"><a href="#cb8-177"></a>    <span class="at">low =</span> <span class="st">"#FFD700"</span>,</span>
<span id="cb8-178"><a href="#cb8-178"></a>    <span class="at">high =</span> <span class="st">"#FF0000"</span>   </span>
<span id="cb8-179"><a href="#cb8-179"></a>  ) <span class="sc">+</span></span>
<span id="cb8-180"><a href="#cb8-180"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Índice nivel de precios por CCAA, diciembre 2023 (100 = 2021)"</span>, <span class="at">caption =</span> <span class="st">"Elaboración propia a partir de datos extraídos de INE"</span>) <span class="sc">+</span></span>
<span id="cb8-181"><a href="#cb8-181"></a>  <span class="fu">theme_void</span>()</span>
<span id="cb8-182"><a href="#cb8-182"></a></span>
<span id="cb8-183"><a href="#cb8-183"></a>p4</span>
<span id="cb8-184"><a href="#cb8-184"></a><span class="in">```</span></span>
<span id="cb8-185"><a href="#cb8-185"></a></span>
<span id="cb8-186"><a href="#cb8-186"></a>En este mapa de coropletas tenemos el valor final de la serie histórica anterior pero esta vez para cada comunidad autónoma. Como podemos observar, el nivel es bastante homogéneo a lo largo de todo el país. Sin embargo, destaca la diferencia que hay entre dos regiones tan próximas como son Castilla-La Mancha y Madrid, que son a su vez las regiones con el nivel más alto y más bajo respectivamente. Suponemos que la diferencia se debe a la composición de los sectores productivos de cada región.</span>
<span id="cb8-187"><a href="#cb8-187"></a></span>
<span id="cb8-188"><a href="#cb8-188"></a>Dado el llamativo crecimiento del índice del nivel de precios a partir de 2021, vamos ahora a observar más de cerca este periodo.</span>
<span id="cb8-189"><a href="#cb8-189"></a></span>
<span id="cb8-190"><a href="#cb8-190"></a></span>
<span id="cb8-191"><a href="#cb8-191"></a><span class="fu">## El reciente ciclo inflacionista</span></span>
<span id="cb8-192"><a href="#cb8-192"></a></span>
<span id="cb8-195"><a href="#cb8-195"></a><span class="in">```{r}</span></span>
<span id="cb8-196"><a href="#cb8-196"></a>df3 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb8-197"><a href="#cb8-197"></a>  <span class="fu">filter</span>(Dato <span class="sc">==</span> <span class="st">"Variación mensual"</span>, Grupo <span class="sc">==</span> <span class="st">"Índice general"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-198"><a href="#cb8-198"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">35</span>)</span>
<span id="cb8-199"><a href="#cb8-199"></a></span>
<span id="cb8-200"><a href="#cb8-200"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> df3,</span>
<span id="cb8-201"><a href="#cb8-201"></a>             <span class="fu">aes</span>(<span class="at">x =</span> Periodo, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb8-202"><a href="#cb8-202"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"#000080"</span>) <span class="sc">+</span> </span>
<span id="cb8-203"><a href="#cb8-203"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb8-204"><a href="#cb8-204"></a>  <span class="fu">theme_stata</span>() <span class="sc">+</span></span>
<span id="cb8-205"><a href="#cb8-205"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Evolución de la Inflación España"</span>, <span class="at">caption =</span> <span class="st">"Elaboración propia a partir de datos extraídos del INE"</span>, <span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Tasa de inflación"</span>) <span class="sc">+</span> </span>
<span id="cb8-206"><a href="#cb8-206"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust=</span><span class="dv">1</span>), <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>), <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb8-207"><a href="#cb8-207"></a></span>
<span id="cb8-208"><a href="#cb8-208"></a></span>
<span id="cb8-209"><a href="#cb8-209"></a>df4 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb8-210"><a href="#cb8-210"></a>  <span class="fu">filter</span>(Dato <span class="sc">==</span> <span class="st">"Variación anual"</span>, Grupo <span class="sc">==</span> <span class="st">"Índice general"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-211"><a href="#cb8-211"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">35</span>)</span>
<span id="cb8-212"><a href="#cb8-212"></a></span>
<span id="cb8-213"><a href="#cb8-213"></a>p5 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df4, <span class="fu">aes</span>(<span class="at">x =</span> Periodo, <span class="at">y =</span> value, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb8-214"><a href="#cb8-214"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="fl">1.08</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb8-215"><a href="#cb8-215"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb8-216"><a href="#cb8-216"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Índice"</span>, <span class="at">title =</span> <span class="st">"Índice nivel de precios (Base100 = 2021)"</span>) <span class="sc">+</span></span>
<span id="cb8-217"><a href="#cb8-217"></a>  <span class="fu">theme_stata</span>() <span class="sc">+</span> <span class="fu">rotateTextX</span>() <span class="sc">+</span> p2</span>
<span id="cb8-218"><a href="#cb8-218"></a></span>
<span id="cb8-219"><a href="#cb8-219"></a>df3 <span class="ot">&lt;-</span> df3 <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(Periodo)</span>
<span id="cb8-220"><a href="#cb8-220"></a>df4 <span class="ot">&lt;-</span> df4 <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(Periodo)</span>
<span id="cb8-221"><a href="#cb8-221"></a></span>
<span id="cb8-222"><a href="#cb8-222"></a><span class="co"># Fusionar los gráficos p2 y p5</span></span>
<span id="cb8-223"><a href="#cb8-223"></a>p_combined <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb8-224"><a href="#cb8-224"></a>  <span class="fu">geom_col</span>(<span class="at">data =</span> df3, <span class="fu">aes</span>(<span class="at">x =</span> Periodo, <span class="at">y =</span> value), <span class="at">fill =</span> <span class="st">"#000080"</span>) <span class="sc">+</span></span>
<span id="cb8-225"><a href="#cb8-225"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> df4, <span class="fu">aes</span>(<span class="at">x =</span> Periodo, <span class="at">y =</span> value, <span class="at">group =</span> <span class="dv">1</span>), <span class="at">size =</span> <span class="fl">1.08</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb8-226"><a href="#cb8-226"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb8-227"><a href="#cb8-227"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>), </span>
<span id="cb8-228"><a href="#cb8-228"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>), </span>
<span id="cb8-229"><a href="#cb8-229"></a>        <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb8-230"><a href="#cb8-230"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Evolución de la Inflación en España"</span>, </span>
<span id="cb8-231"><a href="#cb8-231"></a>       <span class="at">caption =</span> <span class="st">"Elaboración propia a partir de datos extraídos del INE"</span>, </span>
<span id="cb8-232"><a href="#cb8-232"></a>       <span class="at">x =</span> <span class="st">"Año"</span>, </span>
<span id="cb8-233"><a href="#cb8-233"></a>       <span class="at">y =</span> <span class="st">"Tasa de inflación"</span>) <span class="sc">+</span> <span class="fu">theme_stata</span>() <span class="sc">+</span> <span class="fu">rotateTextX</span>()</span>
<span id="cb8-234"><a href="#cb8-234"></a></span>
<span id="cb8-235"><a href="#cb8-235"></a>plotly<span class="sc">::</span><span class="fu">ggplotly</span>(p_combined)</span>
<span id="cb8-236"><a href="#cb8-236"></a><span class="in">```</span></span>
<span id="cb8-237"><a href="#cb8-237"></a></span>
<span id="cb8-238"><a href="#cb8-238"></a>En este gráfico podemos observar en forma de columnas las tasas de inflación mensuales (la variación de los precios mes a mes) junto con las tasas de variación anual de esos mismos meses (la variación de los precios respecto a ese mismo mes del año anterior). Aquí se puede observar cómo las elevadas tasas de inflación mensual han sido elevadas desde los inicios de 2021 hasta mediados de 2022. Esto se ha traducido en tasas de inflación interanual que no habíamos visto en nuestro país desde hace prácticamente 40 años. La tasa más elevada que hemos llegado a ver en este ciclo inflacionario fue la de julio de 2022, con un 10’8% respecto a julio de 2021. A partir de ahí el ritmo al que crecían los precios dejó de aumentar, pero no los precios. En los meses posteriores se observa cómo la tasa de inflación interanual empieza a ser más baja, pero no solo por las tasas mensuales reducidas, también por el efecto base: el incremento de julio de 2021 a julio de 2022 fue tal que, la variación hasta julio de 2023 es mucho más pequeña aunque solo sea porque ahora se calcula sobre una base mucho mayor. Pero eso no significa que los precios estén cayendo. Buena prueba de ello es el primer gráfico. Probablemente sería más interesante centrarse en las causas de la inflación y no tanto en su evolución, pero el tema se nos escapa.</span>
<span id="cb8-239"><a href="#cb8-239"></a></span>
<span id="cb8-240"><a href="#cb8-240"></a>Os dejamos por aquí un reciente estudio sobre las causas de la inflación en Estados Unido y en Europa.</span>
<span id="cb8-241"><a href="#cb8-241"></a></span>
<span id="cb8-244"><a href="#cb8-244"></a><span class="in">```{r}</span></span>
<span id="cb8-245"><a href="#cb8-245"></a><span class="co">#| echo = FALSE,</span></span>
<span id="cb8-246"><a href="#cb8-246"></a><span class="co">#| out.width = "100%",</span></span>
<span id="cb8-247"><a href="#cb8-247"></a><span class="co">#| message=FALSE,</span></span>
<span id="cb8-248"><a href="#cb8-248"></a><span class="co">#| warning=FALSE</span></span>
<span id="cb8-249"><a href="#cb8-249"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"gadenbuie/tweetrmd"</span>)</span>
<span id="cb8-250"><a href="#cb8-250"></a><span class="fu">library</span>(tweetrmd)</span>
<span id="cb8-251"><a href="#cb8-251"></a><span class="fu">include_tweet</span>(<span class="st">"https://twitter.com/juanrallo/status/1749043112243057103"</span>)</span>
<span id="cb8-252"><a href="#cb8-252"></a><span class="in">```</span></span>
<span id="cb8-253"><a href="#cb8-253"></a></span>
<span id="cb8-254"><a href="#cb8-254"></a><span class="fu">## Meses históricos</span></span>
<span id="cb8-255"><a href="#cb8-255"></a></span>
<span id="cb8-256"><a href="#cb8-256"></a>Ahora lo que queremos es ver qué meses de la serie histórica de la que disponemos (de 2002 a la actualidad) han sido los que han tenido una mayor tasa de inflación mensual. Para ello tenemos el siguiente cuadro:</span>
<span id="cb8-257"><a href="#cb8-257"></a></span>
<span id="cb8-260"><a href="#cb8-260"></a><span class="in">```{r}</span></span>
<span id="cb8-261"><a href="#cb8-261"></a>df8 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb8-262"><a href="#cb8-262"></a>  <span class="fu">filter</span>(Grupo <span class="sc">==</span> <span class="st">"Índice general"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-263"><a href="#cb8-263"></a>  <span class="fu">filter</span>(Dato <span class="sc">==</span> <span class="st">"Variación mensual"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-264"><a href="#cb8-264"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">Variacion_mensual =</span> value) <span class="sc">%&gt;%</span></span>
<span id="cb8-265"><a href="#cb8-265"></a>  <span class="fu">slice_max</span>(<span class="at">n =</span> <span class="dv">14</span>, <span class="at">order_by =</span> Variacion_mensual) <span class="sc">%&gt;%</span></span>
<span id="cb8-266"><a href="#cb8-266"></a>  <span class="fu">select</span>(<span class="sc">-</span>(Dato)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>(Grupo)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>(X))</span>
<span id="cb8-267"><a href="#cb8-267"></a></span>
<span id="cb8-268"><a href="#cb8-268"></a></span>
<span id="cb8-269"><a href="#cb8-269"></a></span>
<span id="cb8-270"><a href="#cb8-270"></a>tabla_mensual <span class="ot">&lt;-</span> df8 <span class="sc">%&gt;%</span></span>
<span id="cb8-271"><a href="#cb8-271"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb8-272"><a href="#cb8-272"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span>),</span>
<span id="cb8-273"><a href="#cb8-273"></a>                <span class="at">font_size =</span> <span class="dv">14</span>, <span class="at">full_width =</span> <span class="cn">FALSE</span>)</span>
<span id="cb8-274"><a href="#cb8-274"></a></span>
<span id="cb8-275"><a href="#cb8-275"></a>tabla_mensual</span>
<span id="cb8-276"><a href="#cb8-276"></a><span class="in">```</span></span>
<span id="cb8-277"><a href="#cb8-277"></a></span>
<span id="cb8-278"><a href="#cb8-278"></a>Salta a la vista que los 3 primeros meses con mayor variación mensual han sido de este ciclo inflacionista, 5 de los 12 primeros datos lo son. El primer dato, con un 3% en marzo de 2022 es, con diferencia el dato más elevado que tenemos. Para que nos hagamos a la idea, ese dato anualizado nos daría una tasa de inflación del 42’58%, poniéndonos a la altura de países como Turquía o Argentina. El segundo es junio de 2022 con un 1’9% y el tercero es de octubre de 2021 con 1’8%. Hay también varios datos de entre 2004 y 2007. Esto también es lógico, ya que durante estos años hubo inflación asociada al crecimiento económico y a la gestación de la burbuja inmobiliaria.</span>
<span id="cb8-279"><a href="#cb8-279"></a></span>
<span id="cb8-280"><a href="#cb8-280"></a>Para terminar, queremos observar qué bienes o servicios son los que tienen tasas de variación mensuales más elevadas. Para ello tenemos el siguiente gráfico, donde se muestran los 24 meses con un mayor aumento de precios para cualquier bien o servicio determinado.</span>
<span id="cb8-281"><a href="#cb8-281"></a></span>
<span id="cb8-282"><a href="#cb8-282"></a></span>
<span id="cb8-283"><a href="#cb8-283"></a><span class="fu">## Meses con mayores tasas según porducto</span></span>
<span id="cb8-284"><a href="#cb8-284"></a></span>
<span id="cb8-287"><a href="#cb8-287"></a><span class="in">```{r}</span></span>
<span id="cb8-288"><a href="#cb8-288"></a>df9 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb8-289"><a href="#cb8-289"></a>  <span class="fu">filter</span>(Dato <span class="sc">==</span> <span class="st">"Variación mensual"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-290"><a href="#cb8-290"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">Variacion_mensual =</span> value) <span class="sc">%&gt;%</span></span>
<span id="cb8-291"><a href="#cb8-291"></a>  <span class="fu">slice_max</span>(<span class="at">n =</span> <span class="dv">24</span>, <span class="at">order_by =</span> Variacion_mensual) <span class="sc">%&gt;%</span></span>
<span id="cb8-292"><a href="#cb8-292"></a>  <span class="fu">select</span>(<span class="sc">-</span>(X)) <span class="sc">%&gt;%</span></span>
<span id="cb8-293"><a href="#cb8-293"></a>  <span class="fu">arrange</span>(Variacion_mensual)</span>
<span id="cb8-294"><a href="#cb8-294"></a></span>
<span id="cb8-295"><a href="#cb8-295"></a>p9 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> df9,</span>
<span id="cb8-296"><a href="#cb8-296"></a>             <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(Periodo, Variacion_mensual), <span class="at">y =</span> Variacion_mensual, <span class="at">fill =</span> Grupo)) <span class="sc">+</span></span>
<span id="cb8-297"><a href="#cb8-297"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb8-298"><a href="#cb8-298"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb8-299"><a href="#cb8-299"></a>  <span class="fu">theme_stata</span>() <span class="sc">+</span></span>
<span id="cb8-300"><a href="#cb8-300"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Mayores variaciones mensuales por sector y año"</span>, <span class="at">caption =</span> <span class="st">"Elaboración propia a partir de datos extraídos del INE"</span>, <span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Tasa de inflación intermensual"</span>) <span class="sc">+</span> </span>
<span id="cb8-301"><a href="#cb8-301"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust=</span><span class="dv">1</span>), <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>), <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb8-302"><a href="#cb8-302"></a></span>
<span id="cb8-303"><a href="#cb8-303"></a>plotly<span class="sc">::</span><span class="fu">ggplotly</span>(p9)</span>
<span id="cb8-304"><a href="#cb8-304"></a><span class="in">```</span></span>
<span id="cb8-305"><a href="#cb8-305"></a></span>
<span id="cb8-306"><a href="#cb8-306"></a>A simple vista queda claro que el bien o servicio que más sube de precio en determinados momentos es el vestido y el calzado, ocupando las 22 primeras posiciones. Sin embargo, no perdamos de vista que éstas son subidas de precios estacionales que poco tienen que ver con ciclos inflacionistas. Si observamos en qué meses ocurren estas subidas de precios del vestido y calzado veremos que son siempre en abril y en octubre, justo con el cambio de temporada hacia el verano o hacia el invierno. </span>
<span id="cb8-307"><a href="#cb8-307"></a></span>
<span id="cb8-308"><a href="#cb8-308"></a>Es en la posición vigésimo tercera donde encontramos algún dato que provenga del ciclo inflacionista reciente. Este es de marzo de 2022 y contiene la variación de la vivienda, agua, electricidad, gas y otros combustibles. Para ver si encontramos datos más interesantes, y que no tengan tanto que ver con picos de demanda estacional tenemos el siguiente gráfico.</span>
<span id="cb8-309"><a href="#cb8-309"></a></span>
<span id="cb8-312"><a href="#cb8-312"></a><span class="in">```{r}</span></span>
<span id="cb8-313"><a href="#cb8-313"></a>df10 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb8-314"><a href="#cb8-314"></a>  <span class="fu">filter</span>(Dato <span class="sc">==</span> <span class="st">"Variación mensual"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-315"><a href="#cb8-315"></a>  <span class="fu">filter</span>(<span class="sc">!</span>Grupo <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"03 Vestido y calzado"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb8-316"><a href="#cb8-316"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">Variacion_mensual =</span> value) <span class="sc">%&gt;%</span></span>
<span id="cb8-317"><a href="#cb8-317"></a>  <span class="fu">slice_max</span>(<span class="at">n =</span> <span class="dv">24</span>, <span class="at">order_by =</span> Variacion_mensual) <span class="sc">%&gt;%</span></span>
<span id="cb8-318"><a href="#cb8-318"></a>  <span class="fu">select</span>(<span class="sc">-</span>X) <span class="sc">%&gt;%</span></span>
<span id="cb8-319"><a href="#cb8-319"></a>  <span class="fu">arrange</span>(Variacion_mensual)</span>
<span id="cb8-320"><a href="#cb8-320"></a></span>
<span id="cb8-321"><a href="#cb8-321"></a>p10 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> df10,</span>
<span id="cb8-322"><a href="#cb8-322"></a>              <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(Periodo, Variacion_mensual), <span class="at">y =</span> Variacion_mensual, <span class="at">fill =</span> Grupo)) <span class="sc">+</span></span>
<span id="cb8-323"><a href="#cb8-323"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.9</span>)) <span class="sc">+</span></span>
<span id="cb8-324"><a href="#cb8-324"></a>  <span class="fu">theme_stata</span>() <span class="sc">+</span></span>
<span id="cb8-325"><a href="#cb8-325"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Mayores variaciones mensuales por sector y año"</span>, </span>
<span id="cb8-326"><a href="#cb8-326"></a>       <span class="at">caption =</span> <span class="st">"Elaboración propia a partir de datos extraídos del INE"</span>, </span>
<span id="cb8-327"><a href="#cb8-327"></a>       <span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Tasa de inflación intermensual"</span>) <span class="sc">+</span> </span>
<span id="cb8-328"><a href="#cb8-328"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust=</span><span class="dv">1</span>), </span>
<span id="cb8-329"><a href="#cb8-329"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>), </span>
<span id="cb8-330"><a href="#cb8-330"></a>        <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb8-331"><a href="#cb8-331"></a></span>
<span id="cb8-332"><a href="#cb8-332"></a>plotly<span class="sc">::</span><span class="fu">ggplotly</span>(p10)</span>
<span id="cb8-333"><a href="#cb8-333"></a><span class="in">```</span></span>
<span id="cb8-334"><a href="#cb8-334"></a></span>
<span id="cb8-335"><a href="#cb8-335"></a>En este gráfico, ya sin vestido y calzado podemos observar tasas elevadas de sectores muy diversos. Se hace difícil encontrar patrones; aunque sí hay mese pertenecientes al reciente ciclo inflacionista, parece que la mayor parte de tasas se deben a sucesos puntuales.</span>
<span id="cb8-336"><a href="#cb8-336"></a></span>
<span id="cb8-337"><a href="#cb8-337"></a><span class="fu">## Conclusión</span></span>
<span id="cb8-338"><a href="#cb8-338"></a></span>
<span id="cb8-339"><a href="#cb8-339"></a>Con esto llegamos al final del trabajo. Elaborarlo ha sido una experienia muy enriquecedora, así como cursar esta asignatura en general. Respecto a su contenido, esperamos que haya resultado ilustrativo para el lector y que le sirva para tener una perspectiva amplia de cómo se ha comportado la inflación en nuestro país en las últimas dos décadas.</span>
<span id="cb8-340"><a href="#cb8-340"></a></span>
<span id="cb8-341"><a href="#cb8-341"></a></span>
<span id="cb8-342"><a href="#cb8-342"></a></span>
</code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">© 2024 Pedrotti</div>   
      <div class="nav-footer-center">Hecho con <a href="https://quarto.org">Quarto</a></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
<li class="nav-item compact">
    <a class="nav-link" href="https://github.com/Pedrotti33">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="./pepecai@alumni.uv.es">
      <i class="bi bi-envelope" role="img">
</i> 
    </a>
  </li>  
</ul>
</div>
  </div>
</footer>


<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>